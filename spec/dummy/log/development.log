  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateNiftyKeyValueStoreTable (20131017165222)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "nifty_key_value_store" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "parent_id" integer, "parent_type" varchar, "group" varchar, "name" varchar, "value" varchar) [0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (22.2ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (5.0ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateShoppeInitialSchema (20130926094549)
  [1m[35m (16.8ms)[0m  CREATE TABLE `shoppe_countries` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `code2` varchar(255), `code3` varchar(255), `continent` varchar(255), `tld` varchar(255), `currency` varchar(255), `eu_member` tinyint(1) DEFAULT 0) ENGINE=InnoDB
  [1m[36m (20.5ms)[0m  [1mCREATE TABLE `shoppe_delivery_service_prices` (`id` int(11) auto_increment PRIMARY KEY, `delivery_service_id` int(11), `code` varchar(255), `price` decimal(8,2), `cost_price` decimal(8,2), `tax_rate_id` int(11), `min_weight` decimal(8,2), `max_weight` decimal(8,2), `created_at` datetime, `updated_at` datetime, `country_ids` text) ENGINE=InnoDB[0m
  [1m[35m (15.0ms)[0m  CREATE TABLE `shoppe_delivery_services` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `code` varchar(255), `default` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime, `courier` varchar(255), `tracking_url` varchar(255)) ENGINE=InnoDB
  [1m[36m (14.3ms)[0m  [1mCREATE TABLE `shoppe_order_items` (`id` int(11) auto_increment PRIMARY KEY, `order_id` int(11), `ordered_item_id` int(11), `ordered_item_type` varchar(255), `quantity` int(11) DEFAULT 1, `unit_price` decimal(8,2), `unit_cost_price` decimal(8,2), `tax_amount` decimal(8,2), `tax_rate` decimal(8,2), `weight` decimal(8,3) DEFAULT 0.0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (17.4ms)[0m  CREATE TABLE `shoppe_orders` (`id` int(11) auto_increment PRIMARY KEY, `token` varchar(255), `first_name` varchar(255), `last_name` varchar(255), `company` varchar(255), `billing_address1` varchar(255), `billing_address2` varchar(255), `billing_address3` varchar(255), `billing_address4` varchar(255), `billing_postcode` varchar(255), `billing_country_id` int(11), `email_address` varchar(255), `phone_number` varchar(255), `status` varchar(255), `received_at` datetime, `accepted_at` datetime, `shipped_at` datetime, `created_at` datetime, `updated_at` datetime, `delivery_service_id` int(11), `delivery_price` decimal(8,2), `delivery_cost_price` decimal(8,2), `delivery_tax_rate` decimal(8,2), `delivery_tax_amount` decimal(8,2), `paid_at` datetime, `accepted_by` int(11), `shipped_by` int(11), `consignment_number` varchar(255), `rejected_at` datetime, `rejected_by` int(11), `ip_address` varchar(255), `payment_reference` varchar(255), `payment_method` varchar(255), `notes` text, `separate_delivery_address` tinyint(1) DEFAULT 0, `delivery_name` varchar(255), `delivery_address1` varchar(255), `delivery_address2` varchar(255), `delivery_address3` varchar(255), `delivery_address4` varchar(255), `delivery_postcode` varchar(255), `delivery_country_id` int(11)) ENGINE=InnoDB
  [1m[36m (16.9ms)[0m  [1mCREATE TABLE `shoppe_product_attributes` (`id` int(11) auto_increment PRIMARY KEY, `product_id` int(11), `key` varchar(255), `value` varchar(255), `position` int(11) DEFAULT 1, `searchable` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime, `public` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [1m[35m (12.9ms)[0m  CREATE TABLE `shoppe_product_categories` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `permalink` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (15.4ms)[0m  [1mCREATE TABLE `shoppe_products` (`id` int(11) auto_increment PRIMARY KEY, `parent_id` int(11), `product_category_id` int(11), `name` varchar(255), `sku` varchar(255), `permalink` varchar(255), `description` text, `short_description` text, `active` tinyint(1) DEFAULT 1, `weight` decimal(8,3) DEFAULT 0.0, `price` decimal(8,2) DEFAULT 0.0, `cost_price` decimal(8,2) DEFAULT 0.0, `tax_rate_id` int(11), `created_at` datetime, `updated_at` datetime, `featured` tinyint(1) DEFAULT 0, `in_the_box` text, `stock_control` tinyint(1) DEFAULT 1, `default` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [1m[35m (14.4ms)[0m  CREATE TABLE `shoppe_settings` (`id` int(11) auto_increment PRIMARY KEY, `key` varchar(255), `value` varchar(255), `value_type` varchar(255)) ENGINE=InnoDB
  [1m[36m (14.7ms)[0m  [1mCREATE TABLE `shoppe_stock_level_adjustments` (`id` int(11) auto_increment PRIMARY KEY, `item_id` int(11), `item_type` varchar(255), `description` varchar(255), `adjustment` int(11) DEFAULT 0, `parent_type` varchar(255), `parent_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (12.1ms)[0m  CREATE TABLE `shoppe_tax_rates` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `rate` decimal(8,2), `created_at` datetime, `updated_at` datetime, `country_ids` text) ENGINE=InnoDB
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE `shoppe_users` (`id` int(11) auto_increment PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `email_address` varchar(255), `password_digest` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20130926094549')[0m
  [1m[35m (0.4ms)[0m  COMMIT
Migrating to CreateNiftyKeyValueStoreTable (20131017165222)
  [1m[36m (14.2ms)[0m  [1mCREATE TABLE `nifty_key_value_store` (`id` int(11) auto_increment PRIMARY KEY, `parent_id` int(11), `parent_type` varchar(255), `group` varchar(255), `name` varchar(255), `value` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20131017165222')[0m
  [1m[35m (0.3ms)[0m  COMMIT
Migrating to AddAddressTypeToShoppeTaxRates (20131024201501)
  [1m[36m (4.0ms)[0m  [1mALTER TABLE `shoppe_tax_rates` ADD `address_type` varchar(255)[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20131024201501')[0m
  [1m[35m (0.2ms)[0m  COMMIT
Migrating to CreateShoppePayments (20131024204815)
DEPRECATION WARNING: `#timestamps` was called without specifying an option for `null`. In Rails 5, this behavior will change to `null: false`. You should manually specify `null: true` to prevent the behavior of your existing migrations from changing. (called from block in up at /Users/dean/code/shopr/db/migrate/20131024204815_create_shoppe_payments.rb:12)
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE `shoppe_payments` (`id` int(11) auto_increment PRIMARY KEY, `order_id` int(11), `amount` decimal(8,2) DEFAULT 0.0, `reference` varchar(255), `method` varchar(255), `confirmed` tinyint(1) DEFAULT 1, `refundable` tinyint(1) DEFAULT 0, `amount_refunded` decimal(8,2) DEFAULT 0.0, `parent_payment_id` int(11), `exported` tinyint(1) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.7ms)[0m  ALTER TABLE `shoppe_orders` DROP `paid_at`
  [1m[36m (5.0ms)[0m  [1mALTER TABLE `shoppe_orders` DROP `payment_reference`[0m
  [1m[35m (4.6ms)[0m  ALTER TABLE `shoppe_orders` DROP `payment_method`
  [1m[36m (5.1ms)[0m  [1mALTER TABLE `shoppe_orders` ADD `amount_paid` decimal(8,2) DEFAULT 0.0[0m
  [1m[35m (4.2ms)[0m  ALTER TABLE `shoppe_orders` ADD `exported` tinyint(1) DEFAULT 0
  [1m[36m (5.1ms)[0m  [1mALTER TABLE `shoppe_orders` ADD `invoice_number` varchar(255)[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20131024204815')[0m
  [1m[35m (0.4ms)[0m  COMMIT
Migrating to RemoveDefaultOnOrderItemWeight (20131102143930)
  [1m[36m (1.1ms)[0m  [1mALTER TABLE `shoppe_order_items` CHANGE `weight` `weight` decimal(8,3) DEFAULT NULL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20131102143930')[0m
  [1m[35m (0.3ms)[0m  COMMIT
Migrating to CreateShoppeCustomers (20141013192427)
DEPRECATION WARNING: `#timestamps` was called without specifying an option for `null`. In Rails 5, this behavior will change to `null: false`. You should manually specify `null: true` to prevent the behavior of your existing migrations from changing. (called from block in change at /Users/dean/code/shopr/db/migrate/20141013192427_create_shoppe_customers.rb:11)
  [1m[36m (12.6ms)[0m  [1mCREATE TABLE `shoppe_customers` (`id` int(11) auto_increment PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `company` varchar(255), `email` varchar(255), `phone` varchar(255), `mobile` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20141013192427')[0m
  [1m[35m (0.3ms)[0m  COMMIT
Migrating to AddIndexesToShoppeOrderItems (20141026175622)
  [1m[36m (2.5ms)[0m  [1mCREATE  INDEX `index_shoppe_order_items_ordered_item`  ON `shoppe_order_items` (`ordered_item_id`, `ordered_item_type`) [0m
  [1m[35m (2.1ms)[0m  CREATE  INDEX `index_shoppe_order_items_on_order_id`  ON `shoppe_order_items` (`order_id`) 
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20141026175622')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
Migrating to AddIndexesToShoppeOrders (20141026175943)
  [1m[35m (4.3ms)[0m  CREATE  INDEX `index_shoppe_orders_on_token`  ON `shoppe_orders` (`token`) 
  [1m[36m (2.5ms)[0m  [1mCREATE  INDEX `index_shoppe_orders_on_delivery_service_id`  ON `shoppe_orders` (`delivery_service_id`) [0m
  [1m[35m (2.5ms)[0m  CREATE  INDEX `index_shoppe_orders_on_received_at`  ON `shoppe_orders` (`received_at`) 
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20141026175943')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
Migrating to AddIndexesToShoppePayments (20141026180333)
  [1m[35m (2.0ms)[0m  CREATE  INDEX `index_shoppe_payments_on_order_id`  ON `shoppe_payments` (`order_id`) 
  [1m[36m (2.3ms)[0m  [1mCREATE  INDEX `index_shoppe_payments_on_parent_payment_id`  ON `shoppe_payments` (`parent_payment_id`) [0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20141026180333')[0m
  [1m[35m (0.3ms)[0m  COMMIT
Migrating to AddIndexesToShoppeProductAttributes (20141026180835)
  [1m[36m (2.8ms)[0m  [1mCREATE  INDEX `index_shoppe_product_attributes_on_product_id`  ON `shoppe_product_attributes` (`product_id`) [0m
  [1m[35m (2.1ms)[0m  CREATE  INDEX `index_shoppe_product_attributes_on_key`  ON `shoppe_product_attributes` (`key`) 
  [1m[36m (2.2ms)[0m  [1mCREATE  INDEX `index_shoppe_product_attributes_on_position`  ON `shoppe_product_attributes` (`position`) [0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20141026180835')[0m
  [1m[35m (0.4ms)[0m  COMMIT
Migrating to AddIndexesToShoppeProductCategories (20141026180952)
  [1m[36m (1.7ms)[0m  [1mCREATE  INDEX `index_shoppe_product_categories_on_permalink`  ON `shoppe_product_categories` (`permalink`) [0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20141026180952')[0m
  [1m[35m (0.3ms)[0m  COMMIT
Migrating to AddIndexesToShoppeProducts (20141026181040)
  [1m[36m (2.3ms)[0m  [1mCREATE  INDEX `index_shoppe_products_on_parent_id`  ON `shoppe_products` (`parent_id`) [0m
  [1m[35m (1.7ms)[0m  CREATE  INDEX `index_shoppe_products_on_sku`  ON `shoppe_products` (`sku`) 
  [1m[36m (2.3ms)[0m  [1mCREATE  INDEX `index_shoppe_products_on_product_category_id`  ON `shoppe_products` (`product_category_id`) [0m
  [1m[35m (2.7ms)[0m  CREATE  INDEX `index_shoppe_products_on_permalink`  ON `shoppe_products` (`permalink`) 
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20141026181040')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
Migrating to AddIndexesToShoppeSettings (20141026181312)
  [1m[35m (3.0ms)[0m  CREATE  INDEX `index_shoppe_settings_on_key`  ON `shoppe_settings` (`key`) 
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20141026181312')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to AddIndexesToShoppeStockLevelAdjustments (20141026181354)
  [1m[35m (2.0ms)[0m  CREATE  INDEX `index_shoppe_stock_level_adjustments_items`  ON `shoppe_stock_level_adjustments` (`item_id`, `item_type`) 
  [1m[36m (2.8ms)[0m  [1mCREATE  INDEX `index_shoppe_stock_level_adjustments_parent`  ON `shoppe_stock_level_adjustments` (`parent_id`, `parent_type`) [0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20141026181354')[0m
  [1m[35m (0.3ms)[0m  COMMIT
Migrating to AddIndexesToShoppeUsers (20141026181559)
  [1m[36m (1.9ms)[0m  [1mCREATE  INDEX `index_shoppe_users_on_email_address`  ON `shoppe_users` (`email_address`) [0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20141026181559')[0m
  [1m[35m (0.3ms)[0m  COMMIT
Migrating to AddIndexesToShoppeDeliveryServices (20141026181716)
  [1m[36m (1.8ms)[0m  [1mCREATE  INDEX `index_shoppe_delivery_services_on_active`  ON `shoppe_delivery_services` (`active`) [0m
  [1m[35m (2.2ms)[0m  CREATE  INDEX `index_shoppe_delivery_service_prices_on_delivery_service_id`  ON `shoppe_delivery_service_prices` (`delivery_service_id`) 
  [1m[36m (4.1ms)[0m  [1mCREATE  INDEX `index_shoppe_delivery_service_prices_on_min_weight`  ON `shoppe_delivery_service_prices` (`min_weight`) [0m
  [1m[35m (2.6ms)[0m  CREATE  INDEX `index_shoppe_delivery_service_prices_on_max_weight`  ON `shoppe_delivery_service_prices` (`max_weight`) 
  [1m[36m (4.6ms)[0m  [1mCREATE  INDEX `index_shoppe_delivery_service_prices_on_price`  ON `shoppe_delivery_service_prices` (`price`) [0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20141026181716')[0m
  [1m[35m (0.3ms)[0m  COMMIT
Migrating to AllowMultipleShoppeProductsPerShoppeProductCategory (20141026181717)
  [1m[36m (16.1ms)[0m  [1mCREATE TABLE `shoppe_product_categorizations` (`id` int(11) auto_increment PRIMARY KEY, `product_id` int(11) NOT NULL, `product_category_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (2.5ms)[0m  CREATE  INDEX `categorization_by_product_id`  ON `shoppe_product_categorizations` (`product_id`) 
  [1m[36m (2.9ms)[0m  [1mCREATE  INDEX `categorization_by_product_category_id`  ON `shoppe_product_categorizations` (`product_category_id`) [0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AllowMultipleShoppeProductsPerShoppeProductCategory (20141026181717)
  [1m[35m (0.3ms)[0m  CREATE TABLE `shoppe_product_categorizations` (`id` int(11) auto_increment PRIMARY KEY, `product_id` int(11) NOT NULL, `product_category_id` int(11) NOT NULL) ENGINE=InnoDB
  [1m[36m (20.2ms)[0m  [1mDROP TABLE `nifty_key_value_store`[0m
  [1m[35m (22.1ms)[0m  CREATE TABLE `nifty_key_value_store` (`id` int(11) auto_increment PRIMARY KEY, `parent_id` int(11), `parent_type` varchar(255), `group` varchar(255), `name` varchar(255), `value` varchar(255)) ENGINE=InnoDB
  [1m[36m (20.8ms)[0m  [1mCREATE TABLE `shopr_addresses` (`id` int(11) auto_increment PRIMARY KEY, `customer_id` int(11), `address_type` varchar(255), `default` tinyint(1), `address1` varchar(255), `address2` varchar(255), `address3` varchar(255), `address4` varchar(255), `postcode` varchar(255), `country_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (2.5ms)[0m  CREATE  INDEX `index_shopr_addresses_on_customer_id`  ON `shopr_addresses` (`customer_id`) 
  [1m[36m (18.2ms)[0m  [1mCREATE TABLE `shopr_attachments` (`id` int(11) auto_increment PRIMARY KEY, `parent_id` int(11) NOT NULL, `parent_type` varchar(255) NOT NULL, `token` varchar(255), `file` varchar(255) NOT NULL, `file_name` varchar(255), `file_size` int(11), `file_type` varchar(255), `role` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (21.8ms)[0m  CREATE TABLE `shopr_countries` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `code2` varchar(255), `code3` varchar(255), `continent` varchar(255), `tld` varchar(255), `currency` varchar(255), `eu_member` tinyint(1) DEFAULT 0) ENGINE=InnoDB
  [1m[36m (14.8ms)[0m  [1mCREATE TABLE `shopr_customers` (`id` int(11) auto_increment PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `company` varchar(255), `email` varchar(255), `phone` varchar(255), `mobile` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (18.2ms)[0m  CREATE TABLE `shopr_delivery_service_prices` (`id` int(11) auto_increment PRIMARY KEY, `delivery_service_id` int(11), `code` varchar(255), `price` decimal(8,2), `cost_price` decimal(8,2), `tax_rate_id` int(11), `min_weight` decimal(8,2), `max_weight` decimal(8,2), `created_at` datetime, `updated_at` datetime, `country_ids` text) ENGINE=InnoDB
  [1m[36m (2.0ms)[0m  [1mCREATE  INDEX `index_shopr_delivery_service_prices_on_delivery_service_id`  ON `shopr_delivery_service_prices` (`delivery_service_id`) [0m
  [1m[35m (2.6ms)[0m  CREATE  INDEX `index_shopr_delivery_service_prices_on_max_weight`  ON `shopr_delivery_service_prices` (`max_weight`) 
  [1m[36m (1.8ms)[0m  [1mCREATE  INDEX `index_shopr_delivery_service_prices_on_min_weight`  ON `shopr_delivery_service_prices` (`min_weight`) [0m
  [1m[35m (1.6ms)[0m  CREATE  INDEX `index_shopr_delivery_service_prices_on_price`  ON `shopr_delivery_service_prices` (`price`) 
  [1m[36m (17.5ms)[0m  [1mCREATE TABLE `shopr_delivery_services` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `code` varchar(255), `default` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime, `courier` varchar(255), `tracking_url` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (1.6ms)[0m  CREATE  INDEX `index_shopr_delivery_services_on_active`  ON `shopr_delivery_services` (`active`) 
  [1m[36m (17.0ms)[0m  [1mCREATE TABLE `shopr_order_items` (`id` int(11) auto_increment PRIMARY KEY, `order_id` int(11), `ordered_item_id` int(11), `ordered_item_type` varchar(255), `quantity` int(11) DEFAULT 1, `unit_price` decimal(8,2), `unit_cost_price` decimal(8,2), `tax_amount` decimal(8,2), `tax_rate` decimal(8,2), `weight` decimal(8,3), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.8ms)[0m  CREATE  INDEX `index_shopr_order_items_on_order_id`  ON `shopr_order_items` (`order_id`) 
  [1m[36m (2.0ms)[0m  [1mCREATE  INDEX `index_shopr_order_items_ordered_item`  ON `shopr_order_items` (`ordered_item_id`, `ordered_item_type`) [0m
  [1m[35m (18.6ms)[0m  CREATE TABLE `shopr_orders` (`id` int(11) auto_increment PRIMARY KEY, `token` varchar(255), `first_name` varchar(255), `last_name` varchar(255), `company` varchar(255), `billing_address1` varchar(255), `billing_address2` varchar(255), `billing_address3` varchar(255), `billing_address4` varchar(255), `billing_postcode` varchar(255), `billing_country_id` int(11), `email_address` varchar(255), `phone_number` varchar(255), `status` varchar(255), `received_at` datetime, `accepted_at` datetime, `shipped_at` datetime, `created_at` datetime, `updated_at` datetime, `delivery_service_id` int(11), `delivery_price` decimal(8,2), `delivery_cost_price` decimal(8,2), `delivery_tax_rate` decimal(8,2), `delivery_tax_amount` decimal(8,2), `accepted_by` int(11), `shipped_by` int(11), `consignment_number` varchar(255), `rejected_at` datetime, `rejected_by` int(11), `ip_address` varchar(255), `notes` text, `separate_delivery_address` tinyint(1) DEFAULT 0, `delivery_name` varchar(255), `delivery_address1` varchar(255), `delivery_address2` varchar(255), `delivery_address3` varchar(255), `delivery_address4` varchar(255), `delivery_postcode` varchar(255), `delivery_country_id` int(11), `amount_paid` decimal(8,2) DEFAULT 0.0, `exported` tinyint(1) DEFAULT 0, `invoice_number` varchar(255), `customer_id` int(11)) ENGINE=InnoDB
  [1m[36m (2.2ms)[0m  [1mCREATE  INDEX `index_shopr_orders_on_delivery_service_id`  ON `shopr_orders` (`delivery_service_id`) [0m
  [1m[35m (2.4ms)[0m  CREATE  INDEX `index_shopr_orders_on_received_at`  ON `shopr_orders` (`received_at`) 
  [1m[36m (2.1ms)[0m  [1mCREATE  INDEX `index_shopr_orders_on_token`  ON `shopr_orders` (`token`) [0m
  [1m[35m (17.0ms)[0m  CREATE TABLE `shopr_payments` (`id` int(11) auto_increment PRIMARY KEY, `order_id` int(11), `amount` decimal(8,2) DEFAULT 0.0, `reference` varchar(255), `method` varchar(255), `confirmed` tinyint(1) DEFAULT 1, `refundable` tinyint(1) DEFAULT 0, `amount_refunded` decimal(8,2) DEFAULT 0.0, `parent_payment_id` int(11), `exported` tinyint(1) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (2.0ms)[0m  [1mCREATE  INDEX `index_shopr_payments_on_order_id`  ON `shopr_payments` (`order_id`) [0m
  [1m[35m (1.9ms)[0m  CREATE  INDEX `index_shopr_payments_on_parent_payment_id`  ON `shopr_payments` (`parent_payment_id`) 
  [1m[36m (17.3ms)[0m  [1mCREATE TABLE `shopr_product_attributes` (`id` int(11) auto_increment PRIMARY KEY, `product_id` int(11), `key` varchar(255), `value` varchar(255), `position` int(11) DEFAULT 1, `searchable` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime, `public` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [1m[35m (1.5ms)[0m  CREATE  INDEX `index_shopr_product_attributes_on_key`  ON `shopr_product_attributes` (`key`) 
  [1m[36m (1.3ms)[0m  [1mCREATE  INDEX `index_shopr_product_attributes_on_position`  ON `shopr_product_attributes` (`position`) [0m
  [1m[35m (1.4ms)[0m  CREATE  INDEX `index_shopr_product_attributes_on_product_id`  ON `shopr_product_attributes` (`product_id`) 
  [1m[36m (15.8ms)[0m  [1mCREATE TABLE `shopr_product_categories` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `permalink` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `parent_id` int(11), `lft` int(11), `rgt` int(11), `depth` int(11), `ancestral_permalink` varchar(255), `permalink_includes_ancestors` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [1m[35m (30.1ms)[0m  CREATE  INDEX `index_shopr_product_categories_on_lft`  ON `shopr_product_categories` (`lft`) 
  [1m[36m (1.7ms)[0m  [1mCREATE  INDEX `index_shopr_product_categories_on_permalink`  ON `shopr_product_categories` (`permalink`) [0m
  [1m[35m (2.2ms)[0m  CREATE  INDEX `index_shopr_product_categories_on_rgt`  ON `shopr_product_categories` (`rgt`) 
  [1m[36m (18.4ms)[0m  [1mCREATE TABLE `shopr_product_categorizations` (`id` int(11) auto_increment PRIMARY KEY, `product_id` int(11) NOT NULL, `product_category_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (2.4ms)[0m  CREATE  INDEX `categorization_by_product_category_id`  ON `shopr_product_categorizations` (`product_category_id`) 
  [1m[36m (3.1ms)[0m  [1mCREATE  INDEX `categorization_by_product_id`  ON `shopr_product_categorizations` (`product_id`) [0m
  [1m[35m (17.7ms)[0m  CREATE TABLE `shopr_product_category_translations` (`id` int(11) auto_increment PRIMARY KEY, `shopr_product_category_id` int(11) NOT NULL, `locale` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `name` varchar(255), `permalink` varchar(255), `description` text) ENGINE=InnoDB
  [1m[36m (1.8ms)[0m  [1mCREATE  INDEX `index_shopr_product_category_translations_on_locale`  ON `shopr_product_category_translations` (`locale`) [0m
  [1m[35m (2.9ms)[0m  CREATE  INDEX `index_75826cc72f93d014e54dc08b8202892841c670b4`  ON `shopr_product_category_translations` (`shopr_product_category_id`) 
  [1m[36m (17.8ms)[0m  [1mCREATE TABLE `shopr_product_translations` (`id` int(11) auto_increment PRIMARY KEY, `shopr_product_id` int(11) NOT NULL, `locale` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `name` varchar(255), `permalink` varchar(255), `description` text, `short_description` text) ENGINE=InnoDB[0m
  [1m[35m (1.9ms)[0m  CREATE  INDEX `index_shopr_product_translations_on_locale`  ON `shopr_product_translations` (`locale`) 
  [1m[36m (2.1ms)[0m  [1mCREATE  INDEX `index_shopr_product_translations_on_shopr_product_id`  ON `shopr_product_translations` (`shopr_product_id`) [0m
  [1m[35m (15.0ms)[0m  CREATE TABLE `shopr_products` (`id` int(11) auto_increment PRIMARY KEY, `parent_id` int(11), `name` varchar(255), `sku` varchar(255), `permalink` varchar(255), `description` text, `short_description` text, `active` tinyint(1) DEFAULT 1, `weight` decimal(8,3) DEFAULT 0.0, `price` decimal(8,2) DEFAULT 0.0, `cost_price` decimal(8,2) DEFAULT 0.0, `tax_rate_id` int(11), `created_at` datetime, `updated_at` datetime, `featured` tinyint(1) DEFAULT 0, `in_the_box` text, `stock_control` tinyint(1) DEFAULT 1, `default` tinyint(1) DEFAULT 0) ENGINE=InnoDB
  [1m[36m (1.9ms)[0m  [1mCREATE  INDEX `index_shopr_products_on_parent_id`  ON `shopr_products` (`parent_id`) [0m
  [1m[35m (2.9ms)[0m  CREATE  INDEX `index_shopr_products_on_permalink`  ON `shopr_products` (`permalink`) 
  [1m[36m (3.2ms)[0m  [1mCREATE  INDEX `index_shopr_products_on_sku`  ON `shopr_products` (`sku`) [0m
  [1m[35m (15.1ms)[0m  CREATE TABLE `shopr_settings` (`id` int(11) auto_increment PRIMARY KEY, `key` varchar(255), `value` varchar(255), `value_type` varchar(255)) ENGINE=InnoDB
  [1m[36m (3.0ms)[0m  [1mCREATE  INDEX `index_shopr_settings_on_key`  ON `shopr_settings` (`key`) [0m
  [1m[35m (15.3ms)[0m  CREATE TABLE `shopr_stock_level_adjustments` (`id` int(11) auto_increment PRIMARY KEY, `item_id` int(11), `item_type` varchar(255), `description` varchar(255), `adjustment` int(11) DEFAULT 0, `parent_type` varchar(255), `parent_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (1.9ms)[0m  [1mCREATE  INDEX `index_shopr_stock_level_adjustments_items`  ON `shopr_stock_level_adjustments` (`item_id`, `item_type`) [0m
  [1m[35m (1.8ms)[0m  CREATE  INDEX `index_shopr_stock_level_adjustments_parent`  ON `shopr_stock_level_adjustments` (`parent_id`, `parent_type`) 
  [1m[36m (15.3ms)[0m  [1mCREATE TABLE `shopr_tax_rates` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `rate` decimal(8,2), `created_at` datetime, `updated_at` datetime, `country_ids` text, `address_type` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (15.7ms)[0m  CREATE TABLE `shopr_users` (`id` int(11) auto_increment PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `email_address` varchar(255), `password_digest` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (2.0ms)[0m  [1mCREATE  INDEX `index_shopr_users_on_email_address`  ON `shopr_users` (`email_address`) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20150519173350')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141026181717')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20141026181718')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141027215005')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20150315215633')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20150315223628')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20150513171350')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to RenameTablesToShopr (20160608171555)
  [1m[35m (0.7ms)[0m  RENAME TABLE `shoppe_addresses` TO `shopr_addresses`
  [1m[36m (21.7ms)[0m  [1mCREATE TABLE `nifty_key_value_store` (`id` int(11) auto_increment PRIMARY KEY, `parent_id` int(11), `parent_type` varchar(255), `group` varchar(255), `name` varchar(255), `value` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (18.3ms)[0m  CREATE TABLE `shopr_addresses` (`id` int(11) auto_increment PRIMARY KEY, `customer_id` int(11), `address_type` varchar(255), `default` tinyint(1), `address1` varchar(255), `address2` varchar(255), `address3` varchar(255), `address4` varchar(255), `postcode` varchar(255), `country_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (1.8ms)[0m  [1mCREATE  INDEX `index_shopr_addresses_on_customer_id`  ON `shopr_addresses` (`customer_id`) [0m
  [1m[35m (19.9ms)[0m  CREATE TABLE `shopr_attachments` (`id` int(11) auto_increment PRIMARY KEY, `parent_id` int(11) NOT NULL, `parent_type` varchar(255) NOT NULL, `token` varchar(255), `file` varchar(255) NOT NULL, `file_name` varchar(255), `file_size` int(11), `file_type` varchar(255), `role` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (17.3ms)[0m  [1mCREATE TABLE `shopr_countries` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `code2` varchar(255), `code3` varchar(255), `continent` varchar(255), `tld` varchar(255), `currency` varchar(255), `eu_member` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [1m[35m (14.7ms)[0m  CREATE TABLE `shopr_customers` (`id` int(11) auto_increment PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `company` varchar(255), `email` varchar(255), `phone` varchar(255), `mobile` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (14.9ms)[0m  [1mCREATE TABLE `shopr_delivery_service_prices` (`id` int(11) auto_increment PRIMARY KEY, `delivery_service_id` int(11), `code` varchar(255), `price` decimal(8,2), `cost_price` decimal(8,2), `tax_rate_id` int(11), `min_weight` decimal(8,2), `max_weight` decimal(8,2), `created_at` datetime, `updated_at` datetime, `country_ids` text) ENGINE=InnoDB[0m
  [1m[35m (3.0ms)[0m  CREATE  INDEX `index_shopr_delivery_service_prices_on_delivery_service_id`  ON `shopr_delivery_service_prices` (`delivery_service_id`) 
  [1m[36m (1.9ms)[0m  [1mCREATE  INDEX `index_shopr_delivery_service_prices_on_max_weight`  ON `shopr_delivery_service_prices` (`max_weight`) [0m
  [1m[35m (2.2ms)[0m  CREATE  INDEX `index_shopr_delivery_service_prices_on_min_weight`  ON `shopr_delivery_service_prices` (`min_weight`) 
  [1m[36m (1.7ms)[0m  [1mCREATE  INDEX `index_shopr_delivery_service_prices_on_price`  ON `shopr_delivery_service_prices` (`price`) [0m
  [1m[35m (29.6ms)[0m  CREATE TABLE `shopr_delivery_services` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `code` varchar(255), `default` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime, `courier` varchar(255), `tracking_url` varchar(255)) ENGINE=InnoDB
  [1m[36m (1.5ms)[0m  [1mCREATE  INDEX `index_shopr_delivery_services_on_active`  ON `shopr_delivery_services` (`active`) [0m
  [1m[35m (14.0ms)[0m  CREATE TABLE `shopr_order_items` (`id` int(11) auto_increment PRIMARY KEY, `order_id` int(11), `ordered_item_id` int(11), `ordered_item_type` varchar(255), `quantity` int(11) DEFAULT 1, `unit_price` decimal(8,2), `unit_cost_price` decimal(8,2), `tax_amount` decimal(8,2), `tax_rate` decimal(8,2), `weight` decimal(8,3), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (13.7ms)[0m  [1mCREATE  INDEX `index_shopr_order_items_on_order_id`  ON `shopr_order_items` (`order_id`) [0m
  [1m[35m (1.6ms)[0m  CREATE  INDEX `index_shopr_order_items_ordered_item`  ON `shopr_order_items` (`ordered_item_id`, `ordered_item_type`) 
  [1m[36m (29.3ms)[0m  [1mCREATE TABLE `shopr_orders` (`id` int(11) auto_increment PRIMARY KEY, `token` varchar(255), `first_name` varchar(255), `last_name` varchar(255), `company` varchar(255), `billing_address1` varchar(255), `billing_address2` varchar(255), `billing_address3` varchar(255), `billing_address4` varchar(255), `billing_postcode` varchar(255), `billing_country_id` int(11), `email_address` varchar(255), `phone_number` varchar(255), `status` varchar(255), `received_at` datetime, `accepted_at` datetime, `shipped_at` datetime, `created_at` datetime, `updated_at` datetime, `delivery_service_id` int(11), `delivery_price` decimal(8,2), `delivery_cost_price` decimal(8,2), `delivery_tax_rate` decimal(8,2), `delivery_tax_amount` decimal(8,2), `accepted_by` int(11), `shipped_by` int(11), `consignment_number` varchar(255), `rejected_at` datetime, `rejected_by` int(11), `ip_address` varchar(255), `notes` text, `separate_delivery_address` tinyint(1) DEFAULT 0, `delivery_name` varchar(255), `delivery_address1` varchar(255), `delivery_address2` varchar(255), `delivery_address3` varchar(255), `delivery_address4` varchar(255), `delivery_postcode` varchar(255), `delivery_country_id` int(11), `amount_paid` decimal(8,2) DEFAULT 0.0, `exported` tinyint(1) DEFAULT 0, `invoice_number` varchar(255), `customer_id` int(11)) ENGINE=InnoDB[0m
  [1m[35m (1.7ms)[0m  CREATE  INDEX `index_shopr_orders_on_delivery_service_id`  ON `shopr_orders` (`delivery_service_id`) 
  [1m[36m (1.7ms)[0m  [1mCREATE  INDEX `index_shopr_orders_on_received_at`  ON `shopr_orders` (`received_at`) [0m
  [1m[35m (1.5ms)[0m  CREATE  INDEX `index_shopr_orders_on_token`  ON `shopr_orders` (`token`) 
  [1m[36m (14.0ms)[0m  [1mCREATE TABLE `shopr_payments` (`id` int(11) auto_increment PRIMARY KEY, `order_id` int(11), `amount` decimal(8,2) DEFAULT 0.0, `reference` varchar(255), `method` varchar(255), `confirmed` tinyint(1) DEFAULT 1, `refundable` tinyint(1) DEFAULT 0, `amount_refunded` decimal(8,2) DEFAULT 0.0, `parent_payment_id` int(11), `exported` tinyint(1) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.9ms)[0m  CREATE  INDEX `index_shopr_payments_on_order_id`  ON `shopr_payments` (`order_id`) 
  [1m[36m (2.8ms)[0m  [1mCREATE  INDEX `index_shopr_payments_on_parent_payment_id`  ON `shopr_payments` (`parent_payment_id`) [0m
  [1m[35m (15.0ms)[0m  CREATE TABLE `shopr_product_attributes` (`id` int(11) auto_increment PRIMARY KEY, `product_id` int(11), `key` varchar(255), `value` varchar(255), `position` int(11) DEFAULT 1, `searchable` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime, `public` tinyint(1) DEFAULT 1) ENGINE=InnoDB
  [1m[36m (1.5ms)[0m  [1mCREATE  INDEX `index_shopr_product_attributes_on_key`  ON `shopr_product_attributes` (`key`) [0m
  [1m[35m (1.5ms)[0m  CREATE  INDEX `index_shopr_product_attributes_on_position`  ON `shopr_product_attributes` (`position`) 
  [1m[36m (2.5ms)[0m  [1mCREATE  INDEX `index_shopr_product_attributes_on_product_id`  ON `shopr_product_attributes` (`product_id`) [0m
  [1m[35m (15.2ms)[0m  CREATE TABLE `shopr_product_categories` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `permalink` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `parent_id` int(11), `lft` int(11), `rgt` int(11), `depth` int(11), `ancestral_permalink` varchar(255), `permalink_includes_ancestors` tinyint(1) DEFAULT 0) ENGINE=InnoDB
  [1m[36m (1.7ms)[0m  [1mCREATE  INDEX `index_shopr_product_categories_on_lft`  ON `shopr_product_categories` (`lft`) [0m
  [1m[35m (1.5ms)[0m  CREATE  INDEX `index_shopr_product_categories_on_permalink`  ON `shopr_product_categories` (`permalink`) 
  [1m[36m (2.2ms)[0m  [1mCREATE  INDEX `index_shopr_product_categories_on_rgt`  ON `shopr_product_categories` (`rgt`) [0m
  [1m[35m (50.2ms)[0m  CREATE TABLE `shopr_product_categorizations` (`id` int(11) auto_increment PRIMARY KEY, `product_id` int(11) NOT NULL, `product_category_id` int(11) NOT NULL) ENGINE=InnoDB
  [1m[36m (1.8ms)[0m  [1mCREATE  INDEX `categorization_by_product_category_id`  ON `shopr_product_categorizations` (`product_category_id`) [0m
  [1m[35m (2.3ms)[0m  CREATE  INDEX `categorization_by_product_id`  ON `shopr_product_categorizations` (`product_id`) 
  [1m[36m (19.1ms)[0m  [1mCREATE TABLE `shopr_product_category_translations` (`id` int(11) auto_increment PRIMARY KEY, `shopr_product_category_id` int(11) NOT NULL, `locale` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `name` varchar(255), `permalink` varchar(255), `description` text) ENGINE=InnoDB[0m
  [1m[35m (3.1ms)[0m  CREATE  INDEX `index_shopr_product_category_translations_on_locale`  ON `shopr_product_category_translations` (`locale`) 
  [1m[36m (4.1ms)[0m  [1mCREATE  INDEX `index_75826cc72f93d014e54dc08b8202892841c670b4`  ON `shopr_product_category_translations` (`shopr_product_category_id`) [0m
  [1m[35m (35.7ms)[0m  CREATE TABLE `shopr_product_translations` (`id` int(11) auto_increment PRIMARY KEY, `shopr_product_id` int(11) NOT NULL, `locale` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `name` varchar(255), `permalink` varchar(255), `description` text, `short_description` text) ENGINE=InnoDB
  [1m[36m (2.0ms)[0m  [1mCREATE  INDEX `index_shopr_product_translations_on_locale`  ON `shopr_product_translations` (`locale`) [0m
  [1m[35m (1.9ms)[0m  CREATE  INDEX `index_shopr_product_translations_on_shopr_product_id`  ON `shopr_product_translations` (`shopr_product_id`) 
  [1m[36m (18.8ms)[0m  [1mCREATE TABLE `shopr_products` (`id` int(11) auto_increment PRIMARY KEY, `parent_id` int(11), `name` varchar(255), `sku` varchar(255), `permalink` varchar(255), `description` text, `short_description` text, `active` tinyint(1) DEFAULT 1, `weight` decimal(8,3) DEFAULT 0.0, `price` decimal(8,2) DEFAULT 0.0, `cost_price` decimal(8,2) DEFAULT 0.0, `tax_rate_id` int(11), `created_at` datetime, `updated_at` datetime, `featured` tinyint(1) DEFAULT 0, `in_the_box` text, `stock_control` tinyint(1) DEFAULT 1, `default` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [1m[35m (2.8ms)[0m  CREATE  INDEX `index_shopr_products_on_parent_id`  ON `shopr_products` (`parent_id`) 
  [1m[36m (3.6ms)[0m  [1mCREATE  INDEX `index_shopr_products_on_permalink`  ON `shopr_products` (`permalink`) [0m
  [1m[35m (3.1ms)[0m  CREATE  INDEX `index_shopr_products_on_sku`  ON `shopr_products` (`sku`) 
  [1m[36m (23.2ms)[0m  [1mCREATE TABLE `shopr_settings` (`id` int(11) auto_increment PRIMARY KEY, `key` varchar(255), `value` varchar(255), `value_type` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (3.2ms)[0m  CREATE  INDEX `index_shopr_settings_on_key`  ON `shopr_settings` (`key`) 
  [1m[36m (14.0ms)[0m  [1mCREATE TABLE `shopr_stock_level_adjustments` (`id` int(11) auto_increment PRIMARY KEY, `item_id` int(11), `item_type` varchar(255), `description` varchar(255), `adjustment` int(11) DEFAULT 0, `parent_type` varchar(255), `parent_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.6ms)[0m  CREATE  INDEX `index_shopr_stock_level_adjustments_items`  ON `shopr_stock_level_adjustments` (`item_id`, `item_type`) 
  [1m[36m (1.5ms)[0m  [1mCREATE  INDEX `index_shopr_stock_level_adjustments_parent`  ON `shopr_stock_level_adjustments` (`parent_id`, `parent_type`) [0m
  [1m[35m (15.6ms)[0m  CREATE TABLE `shopr_tax_rates` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `rate` decimal(8,2), `created_at` datetime, `updated_at` datetime, `country_ids` text, `address_type` varchar(255)) ENGINE=InnoDB
  [1m[36m (14.8ms)[0m  [1mCREATE TABLE `shopr_users` (`id` int(11) auto_increment PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `email_address` varchar(255), `password_digest` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.7ms)[0m  CREATE  INDEX `index_shopr_users_on_email_address`  ON `shopr_users` (`email_address`) 
  [1m[36m (16.2ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (4.3ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20150519173350')
  [1m[36m (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20131017165222')[0m
  [1m[35m (0.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20130926094549')
  [1m[36m (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20131024201501')[0m
  [1m[35m (0.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20131024204815')
  [1m[36m (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20131102143930')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141013192427')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20141026175622')[0m
  [1m[35m (0.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141026175943')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20141026180333')[0m
  [1m[35m (0.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141026180835')
  [1m[36m (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20141026180952')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141026181040')
  [1m[36m (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20141026181312')[0m
  [1m[35m (0.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141026181354')
  [1m[36m (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20141026181559')[0m
  [1m[35m (0.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141026181716')
  [1m[36m (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20141026181717')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141026181718')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20141027215005')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20150315215633')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20150315223628')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20150513171350')
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to RenameTablesToShopr (20160608171555)
  [1m[35m (0.3ms)[0m  RENAME TABLE `shoppe_addresses` TO `shopr_addresses`
  [1m[36m (22.8ms)[0m  [1mCREATE TABLE `nifty_key_value_store` (`id` int(11) auto_increment PRIMARY KEY, `parent_id` int(11), `parent_type` varchar(255), `group` varchar(255), `name` varchar(255), `value` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (16.5ms)[0m  CREATE TABLE `shopr_addresses` (`id` int(11) auto_increment PRIMARY KEY, `customer_id` int(11), `address_type` varchar(255), `default` tinyint(1), `address1` varchar(255), `address2` varchar(255), `address3` varchar(255), `address4` varchar(255), `postcode` varchar(255), `country_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (1.7ms)[0m  [1mCREATE  INDEX `index_shopr_addresses_on_customer_id`  ON `shopr_addresses` (`customer_id`) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE `shopr_attachments` (`id` int(11) auto_increment PRIMARY KEY, `parent_id` int(11) NOT NULL, `parent_type` varchar(255) NOT NULL, `token` varchar(255), `file` varchar(255) NOT NULL, `file_name` varchar(255), `file_size` int(11), `file_type` varchar(255), `role` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (17.8ms)[0m  [1mCREATE TABLE `shopr_countries` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `code2` varchar(255), `code3` varchar(255), `continent` varchar(255), `tld` varchar(255), `currency` varchar(255), `eu_member` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [1m[35m (15.9ms)[0m  CREATE TABLE `shopr_customers` (`id` int(11) auto_increment PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `company` varchar(255), `email` varchar(255), `phone` varchar(255), `mobile` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (14.7ms)[0m  [1mCREATE TABLE `shopr_delivery_service_prices` (`id` int(11) auto_increment PRIMARY KEY, `delivery_service_id` int(11), `code` varchar(255), `price` decimal(8,2), `cost_price` decimal(8,2), `tax_rate_id` int(11), `min_weight` decimal(8,2), `max_weight` decimal(8,2), `created_at` datetime, `updated_at` datetime, `country_ids` text) ENGINE=InnoDB[0m
  [1m[35m (2.9ms)[0m  CREATE  INDEX `index_shopr_delivery_service_prices_on_delivery_service_id`  ON `shopr_delivery_service_prices` (`delivery_service_id`) 
  [1m[36m (2.2ms)[0m  [1mCREATE  INDEX `index_shopr_delivery_service_prices_on_max_weight`  ON `shopr_delivery_service_prices` (`max_weight`) [0m
  [1m[35m (1.9ms)[0m  CREATE  INDEX `index_shopr_delivery_service_prices_on_min_weight`  ON `shopr_delivery_service_prices` (`min_weight`) 
  [1m[36m (1.5ms)[0m  [1mCREATE  INDEX `index_shopr_delivery_service_prices_on_price`  ON `shopr_delivery_service_prices` (`price`) [0m
  [1m[35m (12.7ms)[0m  CREATE TABLE `shopr_delivery_services` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `code` varchar(255), `default` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime, `courier` varchar(255), `tracking_url` varchar(255)) ENGINE=InnoDB
  [1m[36m (1.4ms)[0m  [1mCREATE  INDEX `index_shopr_delivery_services_on_active`  ON `shopr_delivery_services` (`active`) [0m
  [1m[35m (15.4ms)[0m  CREATE TABLE `shopr_order_items` (`id` int(11) auto_increment PRIMARY KEY, `order_id` int(11), `ordered_item_id` int(11), `ordered_item_type` varchar(255), `quantity` int(11) DEFAULT 1, `unit_price` decimal(8,2), `unit_cost_price` decimal(8,2), `tax_amount` decimal(8,2), `tax_rate` decimal(8,2), `weight` decimal(8,3), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (1.7ms)[0m  [1mCREATE  INDEX `index_shopr_order_items_on_order_id`  ON `shopr_order_items` (`order_id`) [0m
  [1m[35m (1.6ms)[0m  CREATE  INDEX `index_shopr_order_items_ordered_item`  ON `shopr_order_items` (`ordered_item_id`, `ordered_item_type`) 
  [1m[36m (16.0ms)[0m  [1mCREATE TABLE `shopr_orders` (`id` int(11) auto_increment PRIMARY KEY, `token` varchar(255), `first_name` varchar(255), `last_name` varchar(255), `company` varchar(255), `billing_address1` varchar(255), `billing_address2` varchar(255), `billing_address3` varchar(255), `billing_address4` varchar(255), `billing_postcode` varchar(255), `billing_country_id` int(11), `email_address` varchar(255), `phone_number` varchar(255), `status` varchar(255), `received_at` datetime, `accepted_at` datetime, `shipped_at` datetime, `created_at` datetime, `updated_at` datetime, `delivery_service_id` int(11), `delivery_price` decimal(8,2), `delivery_cost_price` decimal(8,2), `delivery_tax_rate` decimal(8,2), `delivery_tax_amount` decimal(8,2), `accepted_by` int(11), `shipped_by` int(11), `consignment_number` varchar(255), `rejected_at` datetime, `rejected_by` int(11), `ip_address` varchar(255), `notes` text, `separate_delivery_address` tinyint(1) DEFAULT 0, `delivery_name` varchar(255), `delivery_address1` varchar(255), `delivery_address2` varchar(255), `delivery_address3` varchar(255), `delivery_address4` varchar(255), `delivery_postcode` varchar(255), `delivery_country_id` int(11), `amount_paid` decimal(8,2) DEFAULT 0.0, `exported` tinyint(1) DEFAULT 0, `invoice_number` varchar(255), `customer_id` int(11)) ENGINE=InnoDB[0m
  [1m[35m (2.2ms)[0m  CREATE  INDEX `index_shopr_orders_on_delivery_service_id`  ON `shopr_orders` (`delivery_service_id`) 
  [1m[36m (1.8ms)[0m  [1mCREATE  INDEX `index_shopr_orders_on_received_at`  ON `shopr_orders` (`received_at`) [0m
  [1m[35m (1.9ms)[0m  CREATE  INDEX `index_shopr_orders_on_token`  ON `shopr_orders` (`token`) 
  [1m[36m (12.8ms)[0m  [1mCREATE TABLE `shopr_payments` (`id` int(11) auto_increment PRIMARY KEY, `order_id` int(11), `amount` decimal(8,2) DEFAULT 0.0, `reference` varchar(255), `method` varchar(255), `confirmed` tinyint(1) DEFAULT 1, `refundable` tinyint(1) DEFAULT 0, `amount_refunded` decimal(8,2) DEFAULT 0.0, `parent_payment_id` int(11), `exported` tinyint(1) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.5ms)[0m  CREATE  INDEX `index_shopr_payments_on_order_id`  ON `shopr_payments` (`order_id`) 
  [1m[36m (2.1ms)[0m  [1mCREATE  INDEX `index_shopr_payments_on_parent_payment_id`  ON `shopr_payments` (`parent_payment_id`) [0m
  [1m[35m (13.9ms)[0m  CREATE TABLE `shopr_product_attributes` (`id` int(11) auto_increment PRIMARY KEY, `product_id` int(11), `key` varchar(255), `value` varchar(255), `position` int(11) DEFAULT 1, `searchable` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime, `public` tinyint(1) DEFAULT 1) ENGINE=InnoDB
  [1m[36m (1.6ms)[0m  [1mCREATE  INDEX `index_shopr_product_attributes_on_key`  ON `shopr_product_attributes` (`key`) [0m
  [1m[35m (3.4ms)[0m  CREATE  INDEX `index_shopr_product_attributes_on_position`  ON `shopr_product_attributes` (`position`) 
  [1m[36m (2.5ms)[0m  [1mCREATE  INDEX `index_shopr_product_attributes_on_product_id`  ON `shopr_product_attributes` (`product_id`) [0m
  [1m[35m (18.0ms)[0m  CREATE TABLE `shopr_product_categories` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `permalink` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `parent_id` int(11), `lft` int(11), `rgt` int(11), `depth` int(11), `ancestral_permalink` varchar(255), `permalink_includes_ancestors` tinyint(1) DEFAULT 0) ENGINE=InnoDB
  [1m[36m (1.6ms)[0m  [1mCREATE  INDEX `index_shopr_product_categories_on_lft`  ON `shopr_product_categories` (`lft`) [0m
  [1m[35m (1.5ms)[0m  CREATE  INDEX `index_shopr_product_categories_on_permalink`  ON `shopr_product_categories` (`permalink`) 
  [1m[36m (4.4ms)[0m  [1mCREATE  INDEX `index_shopr_product_categories_on_rgt`  ON `shopr_product_categories` (`rgt`) [0m
  [1m[35m (17.2ms)[0m  CREATE TABLE `shopr_product_categorizations` (`id` int(11) auto_increment PRIMARY KEY, `product_id` int(11) NOT NULL, `product_category_id` int(11) NOT NULL) ENGINE=InnoDB
  [1m[36m (1.9ms)[0m  [1mCREATE  INDEX `categorization_by_product_category_id`  ON `shopr_product_categorizations` (`product_category_id`) [0m
  [1m[35m (1.7ms)[0m  CREATE  INDEX `categorization_by_product_id`  ON `shopr_product_categorizations` (`product_id`) 
  [1m[36m (16.1ms)[0m  [1mCREATE TABLE `shopr_product_category_translations` (`id` int(11) auto_increment PRIMARY KEY, `shopr_product_category_id` int(11) NOT NULL, `locale` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `name` varchar(255), `permalink` varchar(255), `description` text) ENGINE=InnoDB[0m
  [1m[35m (1.6ms)[0m  CREATE  INDEX `index_shopr_product_category_translations_on_locale`  ON `shopr_product_category_translations` (`locale`) 
  [1m[36m (2.1ms)[0m  [1mCREATE  INDEX `index_75826cc72f93d014e54dc08b8202892841c670b4`  ON `shopr_product_category_translations` (`shopr_product_category_id`) [0m
  [1m[35m (17.3ms)[0m  CREATE TABLE `shopr_product_translations` (`id` int(11) auto_increment PRIMARY KEY, `shopr_product_id` int(11) NOT NULL, `locale` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `name` varchar(255), `permalink` varchar(255), `description` text, `short_description` text) ENGINE=InnoDB
  [1m[36m (1.8ms)[0m  [1mCREATE  INDEX `index_shopr_product_translations_on_locale`  ON `shopr_product_translations` (`locale`) [0m
  [1m[35m (1.9ms)[0m  CREATE  INDEX `index_shopr_product_translations_on_shopr_product_id`  ON `shopr_product_translations` (`shopr_product_id`) 
  [1m[36m (16.0ms)[0m  [1mCREATE TABLE `shopr_products` (`id` int(11) auto_increment PRIMARY KEY, `parent_id` int(11), `name` varchar(255), `sku` varchar(255), `permalink` varchar(255), `description` text, `short_description` text, `active` tinyint(1) DEFAULT 1, `weight` decimal(8,3) DEFAULT 0.0, `price` decimal(8,2) DEFAULT 0.0, `cost_price` decimal(8,2) DEFAULT 0.0, `tax_rate_id` int(11), `created_at` datetime, `updated_at` datetime, `featured` tinyint(1) DEFAULT 0, `in_the_box` text, `stock_control` tinyint(1) DEFAULT 1, `default` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [1m[35m (1.7ms)[0m  CREATE  INDEX `index_shopr_products_on_parent_id`  ON `shopr_products` (`parent_id`) 
  [1m[36m (1.6ms)[0m  [1mCREATE  INDEX `index_shopr_products_on_permalink`  ON `shopr_products` (`permalink`) [0m
  [1m[35m (4.3ms)[0m  CREATE  INDEX `index_shopr_products_on_sku`  ON `shopr_products` (`sku`) 
  [1m[36m (15.5ms)[0m  [1mCREATE TABLE `shopr_settings` (`id` int(11) auto_increment PRIMARY KEY, `key` varchar(255), `value` varchar(255), `value_type` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (1.7ms)[0m  CREATE  INDEX `index_shopr_settings_on_key`  ON `shopr_settings` (`key`) 
  [1m[36m (16.0ms)[0m  [1mCREATE TABLE `shopr_stock_level_adjustments` (`id` int(11) auto_increment PRIMARY KEY, `item_id` int(11), `item_type` varchar(255), `description` varchar(255), `adjustment` int(11) DEFAULT 0, `parent_type` varchar(255), `parent_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.7ms)[0m  CREATE  INDEX `index_shopr_stock_level_adjustments_items`  ON `shopr_stock_level_adjustments` (`item_id`, `item_type`) 
  [1m[36m (1.7ms)[0m  [1mCREATE  INDEX `index_shopr_stock_level_adjustments_parent`  ON `shopr_stock_level_adjustments` (`parent_id`, `parent_type`) [0m
  [1m[35m (18.8ms)[0m  CREATE TABLE `shopr_tax_rates` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `rate` decimal(8,2), `created_at` datetime, `updated_at` datetime, `country_ids` text, `address_type` varchar(255)) ENGINE=InnoDB
  [1m[36m (16.2ms)[0m  [1mCREATE TABLE `shopr_users` (`id` int(11) auto_increment PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `email_address` varchar(255), `password_digest` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (3.2ms)[0m  CREATE  INDEX `index_shopr_users_on_email_address`  ON `shopr_users` (`email_address`) 
  [1m[36m (14.6ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (2.9ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20150519173350')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20131017165222')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20130926094549')
  [1m[36m (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20131024201501')[0m
  [1m[35m (0.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20131024204815')
  [1m[36m (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20131102143930')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141013192427')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20141026175622')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141026175943')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20141026180333')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141026180835')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20141026180952')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141026181040')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20141026181312')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141026181354')
  [1m[36m (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20141026181559')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141026181716')
  [1m[36m (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20141026181717')[0m
  [1m[35m (0.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141026181718')
  [1m[36m (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20141027215005')[0m
  [1m[35m (0.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20150315215633')
  [1m[36m (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20150315223628')[0m
  [1m[35m (0.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20150513171350')
  [1m[36m (19.8ms)[0m  [1mCREATE TABLE `nifty_key_value_store` (`id` int(11) auto_increment PRIMARY KEY, `parent_id` int(11), `parent_type` varchar(255), `group` varchar(255), `name` varchar(255), `value` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (16.1ms)[0m  CREATE TABLE `shoppe_addresses` (`id` int(11) auto_increment PRIMARY KEY, `customer_id` int(11), `address_type` varchar(255), `default` tinyint(1), `address1` varchar(255), `address2` varchar(255), `address3` varchar(255), `address4` varchar(255), `postcode` varchar(255), `country_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (3.3ms)[0m  [1mCREATE  INDEX `index_shoppe_addresses_on_customer_id`  ON `shoppe_addresses` (`customer_id`) [0m
  [1m[35m (12.0ms)[0m  CREATE TABLE `shoppe_attachments` (`id` int(11) auto_increment PRIMARY KEY, `parent_id` int(11) NOT NULL, `parent_type` varchar(255) NOT NULL, `token` varchar(255), `file` varchar(255) NOT NULL, `file_name` varchar(255), `file_size` int(11), `file_type` varchar(255), `role` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE `shoppe_countries` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `code2` varchar(255), `code3` varchar(255), `continent` varchar(255), `tld` varchar(255), `currency` varchar(255), `eu_member` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [1m[35m (12.2ms)[0m  CREATE TABLE `shoppe_customers` (`id` int(11) auto_increment PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `company` varchar(255), `email` varchar(255), `phone` varchar(255), `mobile` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (11.7ms)[0m  [1mCREATE TABLE `shoppe_delivery_service_prices` (`id` int(11) auto_increment PRIMARY KEY, `delivery_service_id` int(11), `code` varchar(255), `price` decimal(8,2), `cost_price` decimal(8,2), `tax_rate_id` int(11), `min_weight` decimal(8,2), `max_weight` decimal(8,2), `created_at` datetime, `updated_at` datetime, `country_ids` text) ENGINE=InnoDB[0m
  [1m[35m (3.8ms)[0m  CREATE  INDEX `index_shoppe_delivery_service_prices_on_delivery_service_id`  ON `shoppe_delivery_service_prices` (`delivery_service_id`) 
  [1m[36m (3.4ms)[0m  [1mCREATE  INDEX `index_shoppe_delivery_service_prices_on_max_weight`  ON `shoppe_delivery_service_prices` (`max_weight`) [0m
  [1m[35m (3.3ms)[0m  CREATE  INDEX `index_shoppe_delivery_service_prices_on_min_weight`  ON `shoppe_delivery_service_prices` (`min_weight`) 
  [1m[36m (1.8ms)[0m  [1mCREATE  INDEX `index_shoppe_delivery_service_prices_on_price`  ON `shoppe_delivery_service_prices` (`price`) [0m
  [1m[35m (12.6ms)[0m  CREATE TABLE `shoppe_delivery_services` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `code` varchar(255), `default` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime, `courier` varchar(255), `tracking_url` varchar(255)) ENGINE=InnoDB
  [1m[36m (4.8ms)[0m  [1mCREATE  INDEX `index_shoppe_delivery_services_on_active`  ON `shoppe_delivery_services` (`active`) [0m
  [1m[35m (13.9ms)[0m  CREATE TABLE `shoppe_order_items` (`id` int(11) auto_increment PRIMARY KEY, `order_id` int(11), `ordered_item_id` int(11), `ordered_item_type` varchar(255), `quantity` int(11) DEFAULT 1, `unit_price` decimal(8,2), `unit_cost_price` decimal(8,2), `tax_amount` decimal(8,2), `tax_rate` decimal(8,2), `weight` decimal(8,3), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (1.9ms)[0m  [1mCREATE  INDEX `index_shoppe_order_items_on_order_id`  ON `shoppe_order_items` (`order_id`) [0m
  [1m[35m (1.7ms)[0m  CREATE  INDEX `index_shoppe_order_items_ordered_item`  ON `shoppe_order_items` (`ordered_item_id`, `ordered_item_type`) 
  [1m[36m (14.4ms)[0m  [1mCREATE TABLE `shoppe_orders` (`id` int(11) auto_increment PRIMARY KEY, `token` varchar(255), `first_name` varchar(255), `last_name` varchar(255), `company` varchar(255), `billing_address1` varchar(255), `billing_address2` varchar(255), `billing_address3` varchar(255), `billing_address4` varchar(255), `billing_postcode` varchar(255), `billing_country_id` int(11), `email_address` varchar(255), `phone_number` varchar(255), `status` varchar(255), `received_at` datetime, `accepted_at` datetime, `shipped_at` datetime, `created_at` datetime, `updated_at` datetime, `delivery_service_id` int(11), `delivery_price` decimal(8,2), `delivery_cost_price` decimal(8,2), `delivery_tax_rate` decimal(8,2), `delivery_tax_amount` decimal(8,2), `accepted_by` int(11), `shipped_by` int(11), `consignment_number` varchar(255), `rejected_at` datetime, `rejected_by` int(11), `ip_address` varchar(255), `notes` text, `separate_delivery_address` tinyint(1) DEFAULT 0, `delivery_name` varchar(255), `delivery_address1` varchar(255), `delivery_address2` varchar(255), `delivery_address3` varchar(255), `delivery_address4` varchar(255), `delivery_postcode` varchar(255), `delivery_country_id` int(11), `amount_paid` decimal(8,2) DEFAULT 0.0, `exported` tinyint(1) DEFAULT 0, `invoice_number` varchar(255), `customer_id` int(11)) ENGINE=InnoDB[0m
  [1m[35m (4.2ms)[0m  CREATE  INDEX `index_shoppe_orders_on_delivery_service_id`  ON `shoppe_orders` (`delivery_service_id`) 
  [1m[36m (2.5ms)[0m  [1mCREATE  INDEX `index_shoppe_orders_on_received_at`  ON `shoppe_orders` (`received_at`) [0m
  [1m[35m (2.8ms)[0m  CREATE  INDEX `index_shoppe_orders_on_token`  ON `shoppe_orders` (`token`) 
  [1m[36m (15.2ms)[0m  [1mCREATE TABLE `shoppe_payments` (`id` int(11) auto_increment PRIMARY KEY, `order_id` int(11), `amount` decimal(8,2) DEFAULT 0.0, `reference` varchar(255), `method` varchar(255), `confirmed` tinyint(1) DEFAULT 1, `refundable` tinyint(1) DEFAULT 0, `amount_refunded` decimal(8,2) DEFAULT 0.0, `parent_payment_id` int(11), `exported` tinyint(1) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.9ms)[0m  CREATE  INDEX `index_shoppe_payments_on_order_id`  ON `shoppe_payments` (`order_id`) 
  [1m[36m (2.4ms)[0m  [1mCREATE  INDEX `index_shoppe_payments_on_parent_payment_id`  ON `shoppe_payments` (`parent_payment_id`) [0m
  [1m[35m (15.1ms)[0m  CREATE TABLE `shoppe_product_attributes` (`id` int(11) auto_increment PRIMARY KEY, `product_id` int(11), `key` varchar(255), `value` varchar(255), `position` int(11) DEFAULT 1, `searchable` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime, `public` tinyint(1) DEFAULT 1) ENGINE=InnoDB
  [1m[36m (4.8ms)[0m  [1mCREATE  INDEX `index_shoppe_product_attributes_on_key`  ON `shoppe_product_attributes` (`key`) [0m
  [1m[35m (2.5ms)[0m  CREATE  INDEX `index_shoppe_product_attributes_on_position`  ON `shoppe_product_attributes` (`position`) 
  [1m[36m (2.4ms)[0m  [1mCREATE  INDEX `index_shoppe_product_attributes_on_product_id`  ON `shoppe_product_attributes` (`product_id`) [0m
  [1m[35m (14.4ms)[0m  CREATE TABLE `shoppe_product_categories` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `permalink` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `parent_id` int(11), `lft` int(11), `rgt` int(11), `depth` int(11), `ancestral_permalink` varchar(255), `permalink_includes_ancestors` tinyint(1) DEFAULT 0) ENGINE=InnoDB
  [1m[36m (21.0ms)[0m  [1mCREATE  INDEX `index_shoppe_product_categories_on_lft`  ON `shoppe_product_categories` (`lft`) [0m
  [1m[35m (12.4ms)[0m  CREATE  INDEX `index_shoppe_product_categories_on_permalink`  ON `shoppe_product_categories` (`permalink`) 
  [1m[36m (5.1ms)[0m  [1mCREATE  INDEX `index_shoppe_product_categories_on_rgt`  ON `shoppe_product_categories` (`rgt`) [0m
  [1m[35m (12.4ms)[0m  CREATE TABLE `shoppe_product_categorizations` (`id` int(11) auto_increment PRIMARY KEY, `product_id` int(11) NOT NULL, `product_category_id` int(11) NOT NULL) ENGINE=InnoDB
  [1m[36m (2.3ms)[0m  [1mCREATE  INDEX `categorization_by_product_category_id`  ON `shoppe_product_categorizations` (`product_category_id`) [0m
  [1m[35m (1.8ms)[0m  CREATE  INDEX `categorization_by_product_id`  ON `shoppe_product_categorizations` (`product_id`) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE `shoppe_product_category_translations` (`id` int(11) auto_increment PRIMARY KEY, `shoppe_product_category_id` int(11) NOT NULL, `locale` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `name` varchar(255), `permalink` varchar(255), `description` text) ENGINE=InnoDB[0m
  [1m[35m (3.2ms)[0m  CREATE  INDEX `index_shoppe_product_category_translations_on_locale`  ON `shoppe_product_category_translations` (`locale`) 
  [1m[36m (2.3ms)[0m  [1mCREATE  INDEX `index_75826cc72f93d014e54dc08b8202892841c670b4`  ON `shoppe_product_category_translations` (`shoppe_product_category_id`) [0m
  [1m[35m (17.6ms)[0m  CREATE TABLE `shoppe_product_translations` (`id` int(11) auto_increment PRIMARY KEY, `shoppe_product_id` int(11) NOT NULL, `locale` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `name` varchar(255), `permalink` varchar(255), `description` text, `short_description` text) ENGINE=InnoDB
  [1m[36m (2.1ms)[0m  [1mCREATE  INDEX `index_shoppe_product_translations_on_locale`  ON `shoppe_product_translations` (`locale`) [0m
  [1m[35m (3.9ms)[0m  CREATE  INDEX `index_shoppe_product_translations_on_shoppe_product_id`  ON `shoppe_product_translations` (`shoppe_product_id`) 
  [1m[36m (40.9ms)[0m  [1mCREATE TABLE `shoppe_products` (`id` int(11) auto_increment PRIMARY KEY, `parent_id` int(11), `name` varchar(255), `sku` varchar(255), `permalink` varchar(255), `description` text, `short_description` text, `active` tinyint(1) DEFAULT 1, `weight` decimal(8,3) DEFAULT 0.0, `price` decimal(8,2) DEFAULT 0.0, `cost_price` decimal(8,2) DEFAULT 0.0, `tax_rate_id` int(11), `created_at` datetime, `updated_at` datetime, `featured` tinyint(1) DEFAULT 0, `in_the_box` text, `stock_control` tinyint(1) DEFAULT 1, `default` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [1m[35m (1.9ms)[0m  CREATE  INDEX `index_shoppe_products_on_parent_id`  ON `shoppe_products` (`parent_id`) 
  [1m[36m (1.8ms)[0m  [1mCREATE  INDEX `index_shoppe_products_on_permalink`  ON `shoppe_products` (`permalink`) [0m
  [1m[35m (1.8ms)[0m  CREATE  INDEX `index_shoppe_products_on_sku`  ON `shoppe_products` (`sku`) 
  [1m[36m (16.1ms)[0m  [1mCREATE TABLE `shoppe_settings` (`id` int(11) auto_increment PRIMARY KEY, `key` varchar(255), `value` varchar(255), `value_type` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (4.8ms)[0m  CREATE  INDEX `index_shoppe_settings_on_key`  ON `shoppe_settings` (`key`) 
  [1m[36m (17.6ms)[0m  [1mCREATE TABLE `shoppe_stock_level_adjustments` (`id` int(11) auto_increment PRIMARY KEY, `item_id` int(11), `item_type` varchar(255), `description` varchar(255), `adjustment` int(11) DEFAULT 0, `parent_type` varchar(255), `parent_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (3.1ms)[0m  CREATE  INDEX `index_shoppe_stock_level_adjustments_items`  ON `shoppe_stock_level_adjustments` (`item_id`, `item_type`) 
  [1m[36m (2.6ms)[0m  [1mCREATE  INDEX `index_shoppe_stock_level_adjustments_parent`  ON `shoppe_stock_level_adjustments` (`parent_id`, `parent_type`) [0m
  [1m[35m (19.3ms)[0m  CREATE TABLE `shoppe_tax_rates` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `rate` decimal(8,2), `created_at` datetime, `updated_at` datetime, `country_ids` text, `address_type` varchar(255)) ENGINE=InnoDB
  [1m[36m (16.7ms)[0m  [1mCREATE TABLE `shoppe_users` (`id` int(11) auto_increment PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `email_address` varchar(255), `password_digest` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.9ms)[0m  CREATE  INDEX `index_shoppe_users_on_email_address`  ON `shoppe_users` (`email_address`) 
  [1m[36m (16.7ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (3.5ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20150519173350')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20131017165222')[0m
  [1m[35m (2.0ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20130926094549')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20131024201501')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20131024204815')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20131102143930')[0m
  [1m[35m (6.1ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141013192427')
  [1m[36m (5.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20141026175622')[0m
  [1m[35m (5.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141026175943')
  [1m[36m (5.8ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20141026180333')[0m
  [1m[35m (6.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141026180835')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20141026180952')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141026181040')
  [1m[36m (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20141026181312')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141026181354')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20141026181559')[0m
  [1m[35m (4.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141026181716')
  [1m[36m (1.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20141026181717')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20141026181718')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20141027215005')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20150315215633')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20150315223628')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20150513171350')
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to RenameTablesToShopr (20160608171555)
  [1m[35m (1.7ms)[0m  RENAME TABLE `shoppe_addresses` TO `shopr_addresses`
  [1m[36m (2.0ms)[0m  [1mCREATE  INDEX `index_shopr_addresses_on_customer_id`  ON `shopr_addresses` (`customer_id`) [0m
  [1m[35m (1.5ms)[0m  DROP INDEX `index_shoppe_addresses_on_customer_id` ON `shopr_addresses`
  [1m[36m (1.7ms)[0m  [1mRENAME TABLE `shoppe_attachments` TO `shopr_attachments`[0m
  [1m[35m (2.1ms)[0m  RENAME TABLE `shoppe_countries` TO `shopr_countries`
  [1m[36m (1.0ms)[0m  [1mRENAME TABLE `shoppe_customers` TO `shopr_customers`[0m
  [1m[35m (1.5ms)[0m  RENAME TABLE `shoppe_delivery_service_prices` TO `shopr_delivery_service_prices`
  [1m[36m (2.0ms)[0m  [1mCREATE  INDEX `index_shopr_delivery_service_prices_on_delivery_service_id`  ON `shopr_delivery_service_prices` (`delivery_service_id`) [0m
  [1m[35m (1.6ms)[0m  DROP INDEX `index_shoppe_delivery_service_prices_on_delivery_service_id` ON `shopr_delivery_service_prices`
  [1m[36m (1.7ms)[0m  [1mCREATE  INDEX `index_shopr_delivery_service_prices_on_max_weight`  ON `shopr_delivery_service_prices` (`max_weight`) [0m
  [1m[35m (1.2ms)[0m  DROP INDEX `index_shoppe_delivery_service_prices_on_max_weight` ON `shopr_delivery_service_prices`
  [1m[36m (1.8ms)[0m  [1mCREATE  INDEX `index_shopr_delivery_service_prices_on_min_weight`  ON `shopr_delivery_service_prices` (`min_weight`) [0m
  [1m[35m (1.5ms)[0m  DROP INDEX `index_shoppe_delivery_service_prices_on_min_weight` ON `shopr_delivery_service_prices`
  [1m[36m (2.8ms)[0m  [1mCREATE  INDEX `index_shopr_delivery_service_prices_on_price`  ON `shopr_delivery_service_prices` (`price`) [0m
  [1m[35m (1.5ms)[0m  DROP INDEX `index_shoppe_delivery_service_prices_on_price` ON `shopr_delivery_service_prices`
  [1m[36m (1.5ms)[0m  [1mRENAME TABLE `shoppe_delivery_services` TO `shopr_delivery_services`[0m
  [1m[35m (2.4ms)[0m  CREATE  INDEX `index_shopr_delivery_services_on_active`  ON `shopr_delivery_services` (`active`) 
  [1m[36m (1.4ms)[0m  [1mDROP INDEX `index_shoppe_delivery_services_on_active` ON `shopr_delivery_services`[0m
  [1m[35m (1.7ms)[0m  RENAME TABLE `shoppe_order_items` TO `shopr_order_items`
  [1m[36m (2.1ms)[0m  [1mCREATE  INDEX `index_shopr_order_items_on_order_id`  ON `shopr_order_items` (`order_id`) [0m
  [1m[35m (1.3ms)[0m  DROP INDEX `index_shoppe_order_items_on_order_id` ON `shopr_order_items`
  [1m[36m (1.4ms)[0m  [1mRENAME TABLE `shoppe_orders` TO `shopr_orders`[0m
  [1m[35m (2.7ms)[0m  CREATE  INDEX `index_shopr_orders_on_delivery_service_id`  ON `shopr_orders` (`delivery_service_id`) 
  [1m[36m (2.0ms)[0m  [1mDROP INDEX `index_shoppe_orders_on_delivery_service_id` ON `shopr_orders`[0m
  [1m[35m (2.4ms)[0m  CREATE  INDEX `index_shopr_orders_on_received_at`  ON `shopr_orders` (`received_at`) 
  [1m[36m (1.2ms)[0m  [1mDROP INDEX `index_shoppe_orders_on_received_at` ON `shopr_orders`[0m
  [1m[35m (3.1ms)[0m  CREATE  INDEX `index_shopr_orders_on_token`  ON `shopr_orders` (`token`) 
  [1m[36m (1.2ms)[0m  [1mDROP INDEX `index_shoppe_orders_on_token` ON `shopr_orders`[0m
  [1m[35m (1.2ms)[0m  RENAME TABLE `shoppe_payments` TO `shopr_payments`
  [1m[36m (1.4ms)[0m  [1mCREATE  INDEX `index_shopr_payments_on_order_id`  ON `shopr_payments` (`order_id`) [0m
  [1m[35m (1.8ms)[0m  DROP INDEX `index_shoppe_payments_on_order_id` ON `shopr_payments`
  [1m[36m (2.6ms)[0m  [1mCREATE  INDEX `index_shopr_payments_on_parent_payment_id`  ON `shopr_payments` (`parent_payment_id`) [0m
  [1m[35m (1.4ms)[0m  DROP INDEX `index_shoppe_payments_on_parent_payment_id` ON `shopr_payments`
  [1m[36m (1.2ms)[0m  [1mRENAME TABLE `shoppe_product_attributes` TO `shopr_product_attributes`[0m
  [1m[35m (1.9ms)[0m  CREATE  INDEX `index_shopr_product_attributes_on_key`  ON `shopr_product_attributes` (`key`) 
  [1m[36m (1.9ms)[0m  [1mDROP INDEX `index_shoppe_product_attributes_on_key` ON `shopr_product_attributes`[0m
  [1m[35m (2.9ms)[0m  CREATE  INDEX `index_shopr_product_attributes_on_position`  ON `shopr_product_attributes` (`position`) 
  [1m[36m (1.3ms)[0m  [1mDROP INDEX `index_shoppe_product_attributes_on_position` ON `shopr_product_attributes`[0m
  [1m[35m (3.4ms)[0m  CREATE  INDEX `index_shopr_product_attributes_on_product_id`  ON `shopr_product_attributes` (`product_id`) 
  [1m[36m (1.6ms)[0m  [1mDROP INDEX `index_shoppe_product_attributes_on_product_id` ON `shopr_product_attributes`[0m
  [1m[35m (1.4ms)[0m  RENAME TABLE `shoppe_product_categories` TO `shopr_product_categories`
  [1m[36m (2.0ms)[0m  [1mCREATE  INDEX `index_shopr_product_categories_on_lft`  ON `shopr_product_categories` (`lft`) [0m
  [1m[35m (1.5ms)[0m  DROP INDEX `index_shoppe_product_categories_on_lft` ON `shopr_product_categories`
  [1m[36m (1.7ms)[0m  [1mCREATE  INDEX `index_shopr_product_categories_on_permalink`  ON `shopr_product_categories` (`permalink`) [0m
  [1m[35m (1.5ms)[0m  DROP INDEX `index_shoppe_product_categories_on_permalink` ON `shopr_product_categories`
  [1m[36m (1.6ms)[0m  [1mCREATE  INDEX `index_shopr_product_categories_on_rgt`  ON `shopr_product_categories` (`rgt`) [0m
  [1m[35m (1.4ms)[0m  DROP INDEX `index_shoppe_product_categories_on_rgt` ON `shopr_product_categories`
  [1m[36m (1.8ms)[0m  [1mRENAME TABLE `shoppe_product_categorizations` TO `shopr_product_categorizations`[0m
  [1m[35m (1.7ms)[0m  RENAME TABLE `shoppe_product_category_translations` TO `shopr_product_category_translations`
  [1m[36m (2.9ms)[0m  [1mCREATE  INDEX `index_shopr_product_category_translations_on_locale`  ON `shopr_product_category_translations` (`locale`) [0m
  [1m[35m (1.6ms)[0m  DROP INDEX `index_shoppe_product_category_translations_on_locale` ON `shopr_product_category_translations`
  [1m[36m (1.2ms)[0m  [1mRENAME TABLE `shoppe_product_translations` TO `shopr_product_translations`[0m
  [1m[35m (1.7ms)[0m  CREATE  INDEX `index_shopr_product_translations_on_locale`  ON `shopr_product_translations` (`locale`) 
  [1m[36m (2.1ms)[0m  [1mDROP INDEX `index_shoppe_product_translations_on_locale` ON `shopr_product_translations`[0m
  [1m[35m (2.2ms)[0m  CREATE  INDEX `index_shopr_product_translations_on_shoppe_product_id`  ON `shopr_product_translations` (`shoppe_product_id`) 
  [1m[36m (1.7ms)[0m  [1mDROP INDEX `index_shoppe_product_translations_on_shoppe_product_id` ON `shopr_product_translations`[0m
  [1m[35m (1.9ms)[0m  RENAME TABLE `shoppe_products` TO `shopr_products`
  [1m[36m (2.0ms)[0m  [1mCREATE  INDEX `index_shopr_products_on_parent_id`  ON `shopr_products` (`parent_id`) [0m
  [1m[35m (2.2ms)[0m  DROP INDEX `index_shoppe_products_on_parent_id` ON `shopr_products`
  [1m[36m (2.5ms)[0m  [1mCREATE  INDEX `index_shopr_products_on_permalink`  ON `shopr_products` (`permalink`) [0m
  [1m[35m (1.5ms)[0m  DROP INDEX `index_shoppe_products_on_permalink` ON `shopr_products`
  [1m[36m (1.7ms)[0m  [1mCREATE  INDEX `index_shopr_products_on_sku`  ON `shopr_products` (`sku`) [0m
  [1m[35m (1.3ms)[0m  DROP INDEX `index_shoppe_products_on_sku` ON `shopr_products`
  [1m[36m (1.7ms)[0m  [1mRENAME TABLE `shoppe_settings` TO `shopr_settings`[0m
  [1m[35m (2.9ms)[0m  CREATE  INDEX `index_shopr_settings_on_key`  ON `shopr_settings` (`key`) 
  [1m[36m (1.9ms)[0m  [1mDROP INDEX `index_shoppe_settings_on_key` ON `shopr_settings`[0m
  [1m[35m (1.7ms)[0m  RENAME TABLE `shoppe_stock_level_adjustments` TO `shopr_stock_level_adjustments`
  [1m[36m (1.4ms)[0m  [1mRENAME TABLE `shoppe_tax_rates` TO `shopr_tax_rates`[0m
  [1m[35m (1.3ms)[0m  RENAME TABLE `shoppe_users` TO `shopr_users`
  [1m[36m (2.7ms)[0m  [1mCREATE  INDEX `index_shopr_users_on_email_address`  ON `shopr_users` (`email_address`) [0m
  [1m[35m (1.8ms)[0m  DROP INDEX `index_shoppe_users_on_email_address` ON `shopr_users`
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20160608171555')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.2ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr_test'
  AND fk.table_name = 'nifty_key_value_store'
[0m
  [1m[35m (0.1ms)[0m  SHOW CREATE TABLE `nifty_key_value_store`
  [1m[36m (0.2ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr_test'
  AND fk.table_name = 'shopr_addresses'
[0m
  [1m[35m (0.1ms)[0m  SHOW CREATE TABLE `shopr_addresses`
  [1m[36m (0.2ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr_test'
  AND fk.table_name = 'shopr_attachments'
[0m
  [1m[35m (0.1ms)[0m  SHOW CREATE TABLE `shopr_attachments`
  [1m[36m (0.2ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr_test'
  AND fk.table_name = 'shopr_countries'
[0m
  [1m[35m (0.2ms)[0m  SHOW CREATE TABLE `shopr_countries`
  [1m[36m (0.3ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr_test'
  AND fk.table_name = 'shopr_customers'
[0m
  [1m[35m (0.2ms)[0m  SHOW CREATE TABLE `shopr_customers`
  [1m[36m (0.3ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr_test'
  AND fk.table_name = 'shopr_delivery_service_prices'
[0m
  [1m[35m (0.2ms)[0m  SHOW CREATE TABLE `shopr_delivery_service_prices`
  [1m[36m (0.4ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr_test'
  AND fk.table_name = 'shopr_delivery_services'
[0m
  [1m[35m (0.2ms)[0m  SHOW CREATE TABLE `shopr_delivery_services`
  [1m[36m (0.4ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr_test'
  AND fk.table_name = 'shopr_order_items'
[0m
  [1m[35m (0.2ms)[0m  SHOW CREATE TABLE `shopr_order_items`
  [1m[36m (0.3ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr_test'
  AND fk.table_name = 'shopr_orders'
[0m
  [1m[35m (0.2ms)[0m  SHOW CREATE TABLE `shopr_orders`
  [1m[36m (0.2ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr_test'
  AND fk.table_name = 'shopr_payments'
[0m
  [1m[35m (0.1ms)[0m  SHOW CREATE TABLE `shopr_payments`
  [1m[36m (0.2ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr_test'
  AND fk.table_name = 'shopr_product_attributes'
[0m
  [1m[35m (0.1ms)[0m  SHOW CREATE TABLE `shopr_product_attributes`
  [1m[36m (0.2ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr_test'
  AND fk.table_name = 'shopr_product_categories'
[0m
  [1m[35m (0.1ms)[0m  SHOW CREATE TABLE `shopr_product_categories`
  [1m[36m (0.2ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr_test'
  AND fk.table_name = 'shopr_product_categorizations'
[0m
  [1m[35m (0.1ms)[0m  SHOW CREATE TABLE `shopr_product_categorizations`
  [1m[36m (0.2ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr_test'
  AND fk.table_name = 'shopr_product_category_translations'
[0m
  [1m[35m (0.1ms)[0m  SHOW CREATE TABLE `shopr_product_category_translations`
  [1m[36m (0.2ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr_test'
  AND fk.table_name = 'shopr_product_translations'
[0m
  [1m[35m (0.1ms)[0m  SHOW CREATE TABLE `shopr_product_translations`
  [1m[36m (0.2ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr_test'
  AND fk.table_name = 'shopr_products'
[0m
  [1m[35m (0.1ms)[0m  SHOW CREATE TABLE `shopr_products`
  [1m[36m (0.2ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr_test'
  AND fk.table_name = 'shopr_settings'
[0m
  [1m[35m (0.1ms)[0m  SHOW CREATE TABLE `shopr_settings`
  [1m[36m (0.2ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr_test'
  AND fk.table_name = 'shopr_stock_level_adjustments'
[0m
  [1m[35m (0.1ms)[0m  SHOW CREATE TABLE `shopr_stock_level_adjustments`
  [1m[36m (0.2ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr_test'
  AND fk.table_name = 'shopr_tax_rates'
[0m
  [1m[35m (0.1ms)[0m  SHOW CREATE TABLE `shopr_tax_rates`
  [1m[36m (0.2ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr_test'
  AND fk.table_name = 'shopr_users'
[0m
  [1m[35m (0.1ms)[0m  SHOW CREATE TABLE `shopr_users`
  [1m[36mShopr::Product Load (0.2ms)[0m  [1m[34mSELECT  `shopr_products`.* FROM `shopr_products` ORDER BY `shopr_products`.`id` ASC LIMIT 1[0m
  [1m[36mShopr::User Load (0.2ms)[0m  [1m[34mSELECT  `shopr_users`.* FROM `shopr_users` ORDER BY `shopr_users`.`id` ASC LIMIT 1[0m
  [1m[35m (28.2ms)[0m  [1m[35mCREATE TABLE `nifty_key_value_store` (`id` int AUTO_INCREMENT PRIMARY KEY, `parent_id` int, `parent_type` varchar(255), `group` varchar(255), `name` varchar(255), `value` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (25.2ms)[0m  [1m[35mCREATE TABLE `shopr_addresses` (`id` int AUTO_INCREMENT PRIMARY KEY, `customer_id` int, `address_type` varchar(255), `default` tinyint(1), `address1` varchar(255), `address2` varchar(255), `address3` varchar(255), `address4` varchar(255), `postcode` varchar(255), `country_id` int, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX `index_shopr_addresses_on_customer_id` USING btree ON `shopr_addresses` (`customer_id`) [0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE `shopr_attachments` (`id` int AUTO_INCREMENT PRIMARY KEY, `parent_id` int NOT NULL, `parent_type` varchar(255) NOT NULL, `token` varchar(255), `file` varchar(255) NOT NULL, `file_name` varchar(255), `file_size` int, `file_type` varchar(255), `role` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE `shopr_countries` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `code2` varchar(255), `code3` varchar(255), `continent` varchar(255), `tld` varchar(255), `currency` varchar(255), `eu_member` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE `shopr_customers` (`id` int AUTO_INCREMENT PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `company` varchar(255), `email` varchar(255), `phone` varchar(255), `mobile` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE `shopr_delivery_service_prices` (`id` int AUTO_INCREMENT PRIMARY KEY, `delivery_service_id` int, `code` varchar(255), `price` decimal(8,2), `cost_price` decimal(8,2), `tax_rate_id` int, `min_weight` decimal(8,2), `max_weight` decimal(8,2), `created_at` datetime, `updated_at` datetime, `country_ids` text) ENGINE=InnoDB[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX `index_shopr_delivery_service_prices_on_delivery_service_id` USING btree ON `shopr_delivery_service_prices` (`delivery_service_id`) [0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX `index_shopr_delivery_service_prices_on_max_weight` USING btree ON `shopr_delivery_service_prices` (`max_weight`) [0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX `index_shopr_delivery_service_prices_on_min_weight` USING btree ON `shopr_delivery_service_prices` (`min_weight`) [0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX `index_shopr_delivery_service_prices_on_price` USING btree ON `shopr_delivery_service_prices` (`price`) [0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE `shopr_delivery_services` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `code` varchar(255), `default` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime, `courier` varchar(255), `tracking_url` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX `index_shopr_delivery_services_on_active` USING btree ON `shopr_delivery_services` (`active`) [0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE `shopr_order_items` (`id` int AUTO_INCREMENT PRIMARY KEY, `order_id` int, `ordered_item_id` int, `ordered_item_type` varchar(255), `quantity` int DEFAULT 1, `unit_price` decimal(8,2), `unit_cost_price` decimal(8,2), `tax_amount` decimal(8,2), `tax_rate` decimal(8,2), `weight` decimal(8,3), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX `index_shopr_order_items_on_order_id` USING btree ON `shopr_order_items` (`order_id`) [0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shoppe_order_items_ordered_item` USING btree ON `shopr_order_items` (`ordered_item_id`, `ordered_item_type`) [0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE `shopr_orders` (`id` int AUTO_INCREMENT PRIMARY KEY, `token` varchar(255), `first_name` varchar(255), `last_name` varchar(255), `company` varchar(255), `billing_address1` varchar(255), `billing_address2` varchar(255), `billing_address3` varchar(255), `billing_address4` varchar(255), `billing_postcode` varchar(255), `billing_country_id` int, `email_address` varchar(255), `phone_number` varchar(255), `status` varchar(255), `received_at` datetime, `accepted_at` datetime, `shipped_at` datetime, `created_at` datetime, `updated_at` datetime, `delivery_service_id` int, `delivery_price` decimal(8,2), `delivery_cost_price` decimal(8,2), `delivery_tax_rate` decimal(8,2), `delivery_tax_amount` decimal(8,2), `accepted_by` int, `shipped_by` int, `consignment_number` varchar(255), `rejected_at` datetime, `rejected_by` int, `ip_address` varchar(255), `notes` text, `separate_delivery_address` tinyint(1) DEFAULT 0, `delivery_name` varchar(255), `delivery_address1` varchar(255), `delivery_address2` varchar(255), `delivery_address3` varchar(255), `delivery_address4` varchar(255), `delivery_postcode` varchar(255), `delivery_country_id` int, `amount_paid` decimal(8,2) DEFAULT 0.0, `exported` tinyint(1) DEFAULT 0, `invoice_number` varchar(255), `customer_id` int) ENGINE=InnoDB[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX `index_shopr_orders_on_delivery_service_id` USING btree ON `shopr_orders` (`delivery_service_id`) [0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_orders_on_received_at` USING btree ON `shopr_orders` (`received_at`) [0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE  INDEX `index_shopr_orders_on_token` USING btree ON `shopr_orders` (`token`) [0m
  [1m[35m (8.5ms)[0m  [1m[35mCREATE TABLE `shopr_payments` (`id` int AUTO_INCREMENT PRIMARY KEY, `order_id` int, `amount` decimal(8,2) DEFAULT 0.0, `reference` varchar(255), `method` varchar(255), `confirmed` tinyint(1) DEFAULT 1, `refundable` tinyint(1) DEFAULT 0, `amount_refunded` decimal(8,2) DEFAULT 0.0, `parent_payment_id` int, `exported` tinyint(1) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX `index_shopr_payments_on_order_id` USING btree ON `shopr_payments` (`order_id`) [0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_payments_on_parent_payment_id` USING btree ON `shopr_payments` (`parent_payment_id`) [0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE `shopr_product_attributes` (`id` int AUTO_INCREMENT PRIMARY KEY, `product_id` int, `key` varchar(255), `value` varchar(255), `position` int DEFAULT 1, `searchable` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime, `public` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_attributes_on_key` USING btree ON `shopr_product_attributes` (`key`) [0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_attributes_on_position` USING btree ON `shopr_product_attributes` (`position`) [0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_attributes_on_product_id` USING btree ON `shopr_product_attributes` (`product_id`) [0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE `shopr_product_categories` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `permalink` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `parent_id` int, `lft` int, `rgt` int, `depth` int, `ancestral_permalink` varchar(255), `permalink_includes_ancestors` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_categories_on_lft` USING btree ON `shopr_product_categories` (`lft`) [0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_categories_on_permalink` USING btree ON `shopr_product_categories` (`permalink`) [0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_categories_on_rgt` USING btree ON `shopr_product_categories` (`rgt`) [0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE `shopr_product_categorizations` (`id` int AUTO_INCREMENT PRIMARY KEY, `product_id` int NOT NULL, `product_category_id` int NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX `categorization_by_product_category_id` USING btree ON `shopr_product_categorizations` (`product_category_id`) [0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `categorization_by_product_id` USING btree ON `shopr_product_categorizations` (`product_id`) [0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE `shopr_product_category_translations` (`id` int AUTO_INCREMENT PRIMARY KEY, `shoppe_product_category_id` int NOT NULL, `locale` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `name` varchar(255), `permalink` varchar(255), `description` text) ENGINE=InnoDB[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_category_translations_on_locale` USING btree ON `shopr_product_category_translations` (`locale`) [0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE  INDEX `index_75826cc72f93d014e54dc08b8202892841c670b4` USING btree ON `shopr_product_category_translations` (`shoppe_product_category_id`) [0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE TABLE `shopr_product_translations` (`id` int AUTO_INCREMENT PRIMARY KEY, `shoppe_product_id` int NOT NULL, `locale` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `name` varchar(255), `permalink` varchar(255), `description` text, `short_description` text) ENGINE=InnoDB[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_translations_on_locale` USING btree ON `shopr_product_translations` (`locale`) [0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_translations_on_shoppe_product_id` USING btree ON `shopr_product_translations` (`shoppe_product_id`) [0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE `shopr_products` (`id` int AUTO_INCREMENT PRIMARY KEY, `parent_id` int, `name` varchar(255), `sku` varchar(255), `permalink` varchar(255), `description` text, `short_description` text, `active` tinyint(1) DEFAULT 1, `weight` decimal(8,3) DEFAULT 0.0, `price` decimal(8,2) DEFAULT 0.0, `cost_price` decimal(8,2) DEFAULT 0.0, `tax_rate_id` int, `created_at` datetime, `updated_at` datetime, `featured` tinyint(1) DEFAULT 0, `in_the_box` text, `stock_control` tinyint(1) DEFAULT 1, `default` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX `index_shopr_products_on_parent_id` USING btree ON `shopr_products` (`parent_id`) [0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_products_on_permalink` USING btree ON `shopr_products` (`permalink`) [0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_products_on_sku` USING btree ON `shopr_products` (`sku`) [0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE `shopr_settings` (`id` int AUTO_INCREMENT PRIMARY KEY, `key` varchar(255), `value` varchar(255), `value_type` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_settings_on_key` USING btree ON `shopr_settings` (`key`) [0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE `shopr_stock_level_adjustments` (`id` int AUTO_INCREMENT PRIMARY KEY, `item_id` int, `item_type` varchar(255), `description` varchar(255), `adjustment` int DEFAULT 0, `parent_type` varchar(255), `parent_id` int, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX `index_shoppe_stock_level_adjustments_items` USING btree ON `shopr_stock_level_adjustments` (`item_id`, `item_type`) [0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX `index_shoppe_stock_level_adjustments_parent` USING btree ON `shopr_stock_level_adjustments` (`parent_id`, `parent_type`) [0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE TABLE `shopr_tax_rates` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `rate` decimal(8,2), `created_at` datetime, `updated_at` datetime, `country_ids` text, `address_type` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE `shopr_users` (`id` int AUTO_INCREMENT PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `email_address` varchar(255), `password_digest` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_users_on_email_address` USING btree ON `shopr_users` (`email_address`) [0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM `schema_migrations`[0m
  [1m[35m (1.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES ('20160608171555')[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO schema_migrations (version) VALUES ('20131017165222');

[0m
  [1m[35m (29.1ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2016-07-03 15:46:26', '2016-07-03 15:46:26')[0m
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (23.5ms)[0m  [1m[35mCREATE TABLE `nifty_key_value_store` (`id` int AUTO_INCREMENT PRIMARY KEY, `parent_id` int, `parent_type` varchar(255), `group` varchar(255), `name` varchar(255), `value` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (7.9ms)[0m  [1m[35mCREATE TABLE `shopr_addresses` (`id` int AUTO_INCREMENT PRIMARY KEY, `customer_id` int, `address_type` varchar(255), `default` tinyint(1), `address1` varchar(255), `address2` varchar(255), `address3` varchar(255), `address4` varchar(255), `postcode` varchar(255), `country_id` int, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_addresses_on_customer_id` USING btree ON `shopr_addresses` (`customer_id`) [0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE `shopr_attachments` (`id` int AUTO_INCREMENT PRIMARY KEY, `parent_id` int NOT NULL, `parent_type` varchar(255) NOT NULL, `token` varchar(255), `file` varchar(255) NOT NULL, `file_name` varchar(255), `file_size` int, `file_type` varchar(255), `role` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE `shopr_countries` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `code2` varchar(255), `code3` varchar(255), `continent` varchar(255), `tld` varchar(255), `currency` varchar(255), `eu_member` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE `shopr_customers` (`id` int AUTO_INCREMENT PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `company` varchar(255), `email` varchar(255), `phone` varchar(255), `mobile` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE `shopr_delivery_service_prices` (`id` int AUTO_INCREMENT PRIMARY KEY, `delivery_service_id` int, `code` varchar(255), `price` decimal(8,2), `cost_price` decimal(8,2), `tax_rate_id` int, `min_weight` decimal(8,2), `max_weight` decimal(8,2), `created_at` datetime, `updated_at` datetime, `country_ids` text) ENGINE=InnoDB[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_delivery_service_prices_on_delivery_service_id` USING btree ON `shopr_delivery_service_prices` (`delivery_service_id`) [0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_delivery_service_prices_on_max_weight` USING btree ON `shopr_delivery_service_prices` (`max_weight`) [0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX `index_shopr_delivery_service_prices_on_min_weight` USING btree ON `shopr_delivery_service_prices` (`min_weight`) [0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_delivery_service_prices_on_price` USING btree ON `shopr_delivery_service_prices` (`price`) [0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE TABLE `shopr_delivery_services` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `code` varchar(255), `default` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime, `courier` varchar(255), `tracking_url` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_delivery_services_on_active` USING btree ON `shopr_delivery_services` (`active`) [0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE `shopr_order_items` (`id` int AUTO_INCREMENT PRIMARY KEY, `order_id` int, `ordered_item_id` int, `ordered_item_type` varchar(255), `quantity` int DEFAULT 1, `unit_price` decimal(8,2), `unit_cost_price` decimal(8,2), `tax_amount` decimal(8,2), `tax_rate` decimal(8,2), `weight` decimal(8,3), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX `index_shopr_order_items_on_order_id` USING btree ON `shopr_order_items` (`order_id`) [0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shoppe_order_items_ordered_item` USING btree ON `shopr_order_items` (`ordered_item_id`, `ordered_item_type`) [0m
  [1m[35m (8.5ms)[0m  [1m[35mCREATE TABLE `shopr_orders` (`id` int AUTO_INCREMENT PRIMARY KEY, `token` varchar(255), `first_name` varchar(255), `last_name` varchar(255), `company` varchar(255), `billing_address1` varchar(255), `billing_address2` varchar(255), `billing_address3` varchar(255), `billing_address4` varchar(255), `billing_postcode` varchar(255), `billing_country_id` int, `email_address` varchar(255), `phone_number` varchar(255), `status` varchar(255), `received_at` datetime, `accepted_at` datetime, `shipped_at` datetime, `created_at` datetime, `updated_at` datetime, `delivery_service_id` int, `delivery_price` decimal(8,2), `delivery_cost_price` decimal(8,2), `delivery_tax_rate` decimal(8,2), `delivery_tax_amount` decimal(8,2), `accepted_by` int, `shipped_by` int, `consignment_number` varchar(255), `rejected_at` datetime, `rejected_by` int, `ip_address` varchar(255), `notes` text, `separate_delivery_address` tinyint(1) DEFAULT 0, `delivery_name` varchar(255), `delivery_address1` varchar(255), `delivery_address2` varchar(255), `delivery_address3` varchar(255), `delivery_address4` varchar(255), `delivery_postcode` varchar(255), `delivery_country_id` int, `amount_paid` decimal(8,2) DEFAULT 0.0, `exported` tinyint(1) DEFAULT 0, `invoice_number` varchar(255), `customer_id` int) ENGINE=InnoDB[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX `index_shopr_orders_on_delivery_service_id` USING btree ON `shopr_orders` (`delivery_service_id`) [0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_orders_on_received_at` USING btree ON `shopr_orders` (`received_at`) [0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_orders_on_token` USING btree ON `shopr_orders` (`token`) [0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE `shopr_payments` (`id` int AUTO_INCREMENT PRIMARY KEY, `order_id` int, `amount` decimal(8,2) DEFAULT 0.0, `reference` varchar(255), `method` varchar(255), `confirmed` tinyint(1) DEFAULT 1, `refundable` tinyint(1) DEFAULT 0, `amount_refunded` decimal(8,2) DEFAULT 0.0, `parent_payment_id` int, `exported` tinyint(1) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_payments_on_order_id` USING btree ON `shopr_payments` (`order_id`) [0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX `index_shopr_payments_on_parent_payment_id` USING btree ON `shopr_payments` (`parent_payment_id`) [0m
  [1m[35m (9.3ms)[0m  [1m[35mCREATE TABLE `shopr_product_attributes` (`id` int AUTO_INCREMENT PRIMARY KEY, `product_id` int, `key` varchar(255), `value` varchar(255), `position` int DEFAULT 1, `searchable` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime, `public` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_attributes_on_key` USING btree ON `shopr_product_attributes` (`key`) [0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_attributes_on_position` USING btree ON `shopr_product_attributes` (`position`) [0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_attributes_on_product_id` USING btree ON `shopr_product_attributes` (`product_id`) [0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE `shopr_product_categories` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `permalink` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `parent_id` int, `lft` int, `rgt` int, `depth` int, `ancestral_permalink` varchar(255), `permalink_includes_ancestors` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_categories_on_lft` USING btree ON `shopr_product_categories` (`lft`) [0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_categories_on_permalink` USING btree ON `shopr_product_categories` (`permalink`) [0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_categories_on_rgt` USING btree ON `shopr_product_categories` (`rgt`) [0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE `shopr_product_categorizations` (`id` int AUTO_INCREMENT PRIMARY KEY, `product_id` int NOT NULL, `product_category_id` int NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX `categorization_by_product_category_id` USING btree ON `shopr_product_categorizations` (`product_category_id`) [0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `categorization_by_product_id` USING btree ON `shopr_product_categorizations` (`product_id`) [0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE `shopr_product_category_translations` (`id` int AUTO_INCREMENT PRIMARY KEY, `shoppe_product_category_id` int NOT NULL, `locale` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `name` varchar(255), `permalink` varchar(255), `description` text) ENGINE=InnoDB[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_category_translations_on_locale` USING btree ON `shopr_product_category_translations` (`locale`) [0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_75826cc72f93d014e54dc08b8202892841c670b4` USING btree ON `shopr_product_category_translations` (`shoppe_product_category_id`) [0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE `shopr_product_translations` (`id` int AUTO_INCREMENT PRIMARY KEY, `shoppe_product_id` int NOT NULL, `locale` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `name` varchar(255), `permalink` varchar(255), `description` text, `short_description` text) ENGINE=InnoDB[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_translations_on_locale` USING btree ON `shopr_product_translations` (`locale`) [0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_translations_on_shoppe_product_id` USING btree ON `shopr_product_translations` (`shoppe_product_id`) [0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE `shopr_products` (`id` int AUTO_INCREMENT PRIMARY KEY, `parent_id` int, `name` varchar(255), `sku` varchar(255), `permalink` varchar(255), `description` text, `short_description` text, `active` tinyint(1) DEFAULT 1, `weight` decimal(8,3) DEFAULT 0.0, `price` decimal(8,2) DEFAULT 0.0, `cost_price` decimal(8,2) DEFAULT 0.0, `tax_rate_id` int, `created_at` datetime, `updated_at` datetime, `featured` tinyint(1) DEFAULT 0, `in_the_box` text, `stock_control` tinyint(1) DEFAULT 1, `default` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_products_on_parent_id` USING btree ON `shopr_products` (`parent_id`) [0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE  INDEX `index_shopr_products_on_permalink` USING btree ON `shopr_products` (`permalink`) [0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_products_on_sku` USING btree ON `shopr_products` (`sku`) [0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE `shopr_settings` (`id` int AUTO_INCREMENT PRIMARY KEY, `key` varchar(255), `value` varchar(255), `value_type` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX `index_shopr_settings_on_key` USING btree ON `shopr_settings` (`key`) [0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE `shopr_stock_level_adjustments` (`id` int AUTO_INCREMENT PRIMARY KEY, `item_id` int, `item_type` varchar(255), `description` varchar(255), `adjustment` int DEFAULT 0, `parent_type` varchar(255), `parent_id` int, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX `index_shoppe_stock_level_adjustments_items` USING btree ON `shopr_stock_level_adjustments` (`item_id`, `item_type`) [0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shoppe_stock_level_adjustments_parent` USING btree ON `shopr_stock_level_adjustments` (`parent_id`, `parent_type`) [0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE `shopr_tax_rates` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `rate` decimal(8,2), `created_at` datetime, `updated_at` datetime, `country_ids` text, `address_type` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE `shopr_users` (`id` int AUTO_INCREMENT PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `email_address` varchar(255), `password_digest` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_users_on_email_address` USING btree ON `shopr_users` (`email_address`) [0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES ('20160608171555')[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO schema_migrations (version) VALUES ('20131017165222');

[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2016-07-03 15:46:26', '2016-07-03 15:46:26')[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (33.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS `shopr`[0m
  [1m[35m (22.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS `shopr_test`[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE DATABASE `shopr` DEFAULT CHARACTER SET `utf8`[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE DATABASE `shopr_test` DEFAULT CHARACTER SET `utf8`[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2910784480150763265', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateInitialShoprTables (20160608183749)
  [1m[35m (7.3ms)[0m  [1m[35mCREATE TABLE `nifty_key_value_store` (`id` int AUTO_INCREMENT PRIMARY KEY, `parent_id` int, `parent_type` varchar(255), `group` varchar(255), `name` varchar(255), `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE `shopr_addresses` (`id` int AUTO_INCREMENT PRIMARY KEY, `customer_id` int, `address_type` varchar(255), `default` tinyint(1), `address1` varchar(255), `address2` varchar(255), `address3` varchar(255), `address4` varchar(255), `postcode` varchar(255), `country_id` int, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX `index_shopr_addresses_on_customer_id`  ON `shopr_addresses` (`customer_id`) [0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE `shopr_attachments` (`id` int AUTO_INCREMENT PRIMARY KEY, `parent_id` int NOT NULL, `parent_type` varchar(255) NOT NULL, `token` varchar(255), `file` varchar(255), `file_name` varchar(255), `file_size` int, `file_type` varchar(255), `role` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (7.7ms)[0m  [1m[35mCREATE TABLE `shopr_countries` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `code2` varchar(255), `code3` varchar(255), `continent` varchar(255), `tld` varchar(255), `currency` varchar(255), `eu_member` tinyint(1) DEFAULT 0, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE `shopr_customers` (`id` int AUTO_INCREMENT PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `company` varchar(255), `email` varchar(255), `phone` varchar(255), `mobile` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE `shopr_delivery_service_prices` (`id` int AUTO_INCREMENT PRIMARY KEY, `delivery_service_id` int, `code` varchar(255), `price` decimal(8,2), `cost_price` decimal(8,2), `tax_rate_id` int, `min_weight` decimal(8,2), `max_weight` decimal(8,2), `country_ids` text, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_delivery_service_prices_on_delivery_service_id`  ON `shopr_delivery_service_prices` (`delivery_service_id`) [0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX `index_shopr_delivery_service_prices_on_max_weight`  ON `shopr_delivery_service_prices` (`max_weight`) [0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX `index_shopr_delivery_service_prices_on_min_weight`  ON `shopr_delivery_service_prices` (`min_weight`) [0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX `index_shopr_delivery_service_prices_on_price`  ON `shopr_delivery_service_prices` (`price`) [0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE `shopr_delivery_services` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `code` varchar(255), `default` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1, `courier` varchar(255), `tracking_url` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX `index_shopr_delivery_services_on_active`  ON `shopr_delivery_services` (`active`) [0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE `shopr_order_items` (`id` int AUTO_INCREMENT PRIMARY KEY, `order_id` int, `ordered_item_id` int, `ordered_item_type` varchar(255), `quantity` int DEFAULT 1, `unit_price` decimal(8,2), `unit_cost_price` decimal(8,2), `tax_amount` decimal(8,2), `tax_rate` decimal(8,2), `weight` decimal(8,3), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX `index_shopr_order_items_on_order_id`  ON `shopr_order_items` (`order_id`) [0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_order_items_ordered_item`  ON `shopr_order_items` (`ordered_item_id`, `ordered_item_type`) [0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE `shopr_orders` (`id` int AUTO_INCREMENT PRIMARY KEY, `token` varchar(255), `first_name` varchar(255), `last_name` varchar(255), `company` varchar(255), `billing_address1` varchar(255), `billing_address2` varchar(255), `billing_address3` varchar(255), `billing_address4` varchar(255), `billing_postcode` varchar(255), `billing_country_id` int, `email_address` varchar(255), `phone_number` varchar(255), `status` varchar(255), `received_at` datetime, `accepted_at` datetime, `shipped_at` datetime, `delivery_service_id` int, `delivery_price` decimal(8,2), `delivery_cost_price` decimal(8,2), `delivery_tax_rate` decimal(8,2), `delivery_tax_amount` decimal(8,2), `accepted_by` int, `shipped_by` int, `consignment_number` varchar(255), `rejected_at` datetime, `rejected_by` int, `ip_address` varchar(255), `notes` text, `separate_delivery_address` tinyint(1) DEFAULT 0, `delivery_name` varchar(255), `delivery_address1` varchar(255), `delivery_address2` varchar(255), `delivery_address3` varchar(255), `delivery_address4` varchar(255), `delivery_postcode` varchar(255), `delivery_country_id` int, `amount_paid` decimal(8,2) DEFAULT 0.0, `exported` tinyint(1) DEFAULT 0, `invoice_number` varchar(255), `customer_id` int, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_orders_on_delivery_service_id`  ON `shopr_orders` (`delivery_service_id`) [0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_orders_on_received_at`  ON `shopr_orders` (`received_at`) [0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_orders_on_token`  ON `shopr_orders` (`token`) [0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE `shopr_payments` (`id` int AUTO_INCREMENT PRIMARY KEY, `order_id` int, `amount` decimal(8,2) DEFAULT 0.0, `reference` varchar(255), `method` varchar(255), `confirmed` tinyint(1) DEFAULT 1, `refundable` tinyint(1) DEFAULT 0, `amount_refunded` decimal(8,2) DEFAULT 0.0, `parent_payment_id` int, `exported` tinyint(1) DEFAULT 0, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX `index_shopr_payments_on_order_id`  ON `shopr_payments` (`order_id`) [0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX `index_shopr_payments_on_parent_payment_id`  ON `shopr_payments` (`parent_payment_id`) [0m
  [1m[35m (7.7ms)[0m  [1m[35mCREATE TABLE `shopr_product_attributes` (`id` int AUTO_INCREMENT PRIMARY KEY, `product_id` int, `key` varchar(255), `value` varchar(255), `position` int DEFAULT 1, `searchable` tinyint(1) DEFAULT 1, `public` tinyint(1) DEFAULT 1, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_attributes_on_key`  ON `shopr_product_attributes` (`key`) [0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_attributes_on_position`  ON `shopr_product_attributes` (`position`) [0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_attributes_on_product_id`  ON `shopr_product_attributes` (`product_id`) [0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE `shopr_product_categories` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `permalink` varchar(255), `description` text, `parent_id` int, `lft` int, `rgt` int, `depth` int, `ancestral_permalink` varchar(255), `permalink_includes_ancestors` tinyint(1) DEFAULT 0, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_categories_on_lft`  ON `shopr_product_categories` (`lft`) [0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_categories_on_permalink`  ON `shopr_product_categories` (`permalink`) [0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_categories_on_rgt`  ON `shopr_product_categories` (`rgt`) [0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE TABLE `shopr_product_categorizations` (`id` int AUTO_INCREMENT PRIMARY KEY, `product_id` int NOT NULL, `product_category_id` int NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX `categorization_by_product_category_id`  ON `shopr_product_categorizations` (`product_category_id`) [0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `categorization_by_product_id`  ON `shopr_product_categorizations` (`product_id`) [0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE `shopr_products` (`id` int AUTO_INCREMENT PRIMARY KEY, `parent_id` int, `name` varchar(255), `sku` varchar(255), `permalink` varchar(255), `description` text, `short_description` text, `active` tinyint(1) DEFAULT 1, `weight` decimal(8,3) DEFAULT 0.0, `price` decimal(8,2) DEFAULT 0.0, `cost_price` decimal(8,2) DEFAULT 0.0, `tax_rate_id` int, `featured` tinyint(1) DEFAULT 0, `in_the_box` text, `stock_control` tinyint(1) DEFAULT 1, `default` tinyint(1) DEFAULT 0, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX `index_shopr_products_on_parent_id`  ON `shopr_products` (`parent_id`) [0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_products_on_permalink`  ON `shopr_products` (`permalink`) [0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_products_on_sku`  ON `shopr_products` (`sku`) [0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE TABLE `shopr_settings` (`id` int AUTO_INCREMENT PRIMARY KEY, `key` varchar(255), `value` varchar(255), `value_type` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_settings_on_key`  ON `shopr_settings` (`key`) [0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE `shopr_stock_level_adjustments` (`id` int AUTO_INCREMENT PRIMARY KEY, `item_id` int, `item_type` varchar(255), `description` varchar(255), `adjustment` int DEFAULT 0, `parent_type` varchar(255), `parent_id` int, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_stock_level_adjustments_items`  ON `shopr_stock_level_adjustments` (`item_id`, `item_type`) [0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE  INDEX `index_shopr_stock_level_adjustments_parent`  ON `shopr_stock_level_adjustments` (`parent_id`, `parent_type`) [0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE TABLE `shopr_tax_rates` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `rate` decimal(8,2), `country_ids` text, `address_type` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE `shopr_users` ADD `email` varchar(255) DEFAULT '' NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE `nifty_key_value_store` (`id` int AUTO_INCREMENT PRIMARY KEY, `parent_id` int, `parent_type` varchar(255), `group` varchar(255), `name` varchar(255), `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('2910784480150763265')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (25.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS `shopr`[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS `shopr_test`[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE DATABASE `shopr` DEFAULT CHARACTER SET `utf8`[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE DATABASE `shopr_test` DEFAULT CHARACTER SET `utf8`[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2910784480150763265', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateInitialShoprTables (20160608183749)
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE `nifty_key_value_store` (`id` int AUTO_INCREMENT PRIMARY KEY, `parent_id` int, `parent_type` varchar(255), `group` varchar(255), `name` varchar(255), `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE `shopr_addresses` (`id` int AUTO_INCREMENT PRIMARY KEY, `customer_id` int, `address_type` varchar(255), `default` tinyint(1), `address1` varchar(255), `address2` varchar(255), `address3` varchar(255), `address4` varchar(255), `postcode` varchar(255), `country_id` int, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_addresses_on_customer_id`  ON `shopr_addresses` (`customer_id`) [0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE TABLE `shopr_attachments` (`id` int AUTO_INCREMENT PRIMARY KEY, `parent_id` int NOT NULL, `parent_type` varchar(255) NOT NULL, `token` varchar(255), `file` varchar(255), `file_name` varchar(255), `file_size` int, `file_type` varchar(255), `role` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE `shopr_countries` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `code2` varchar(255), `code3` varchar(255), `continent` varchar(255), `tld` varchar(255), `currency` varchar(255), `eu_member` tinyint(1) DEFAULT 0, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE `shopr_customers` (`id` int AUTO_INCREMENT PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `company` varchar(255), `email` varchar(255), `phone` varchar(255), `mobile` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE `shopr_delivery_service_prices` (`id` int AUTO_INCREMENT PRIMARY KEY, `delivery_service_id` int, `code` varchar(255), `price` decimal(8,2), `cost_price` decimal(8,2), `tax_rate_id` int, `min_weight` decimal(8,2), `max_weight` decimal(8,2), `country_ids` text, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_delivery_service_prices_on_delivery_service_id`  ON `shopr_delivery_service_prices` (`delivery_service_id`) [0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX `index_shopr_delivery_service_prices_on_max_weight`  ON `shopr_delivery_service_prices` (`max_weight`) [0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_delivery_service_prices_on_min_weight`  ON `shopr_delivery_service_prices` (`min_weight`) [0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX `index_shopr_delivery_service_prices_on_price`  ON `shopr_delivery_service_prices` (`price`) [0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE `shopr_delivery_services` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `code` varchar(255), `default` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1, `courier` varchar(255), `tracking_url` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX `index_shopr_delivery_services_on_active`  ON `shopr_delivery_services` (`active`) [0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE TABLE `shopr_order_items` (`id` int AUTO_INCREMENT PRIMARY KEY, `order_id` int, `ordered_item_id` int, `ordered_item_type` varchar(255), `quantity` int DEFAULT 1, `unit_price` decimal(8,2), `unit_cost_price` decimal(8,2), `tax_amount` decimal(8,2), `tax_rate` decimal(8,2), `weight` decimal(8,3), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_order_items_on_order_id`  ON `shopr_order_items` (`order_id`) [0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX `index_shopr_order_items_ordered_item`  ON `shopr_order_items` (`ordered_item_id`, `ordered_item_type`) [0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE `shopr_orders` (`id` int AUTO_INCREMENT PRIMARY KEY, `token` varchar(255), `first_name` varchar(255), `last_name` varchar(255), `company` varchar(255), `billing_address1` varchar(255), `billing_address2` varchar(255), `billing_address3` varchar(255), `billing_address4` varchar(255), `billing_postcode` varchar(255), `billing_country_id` int, `email_address` varchar(255), `phone_number` varchar(255), `status` varchar(255), `received_at` datetime, `accepted_at` datetime, `shipped_at` datetime, `delivery_service_id` int, `delivery_price` decimal(8,2), `delivery_cost_price` decimal(8,2), `delivery_tax_rate` decimal(8,2), `delivery_tax_amount` decimal(8,2), `accepted_by` int, `shipped_by` int, `consignment_number` varchar(255), `rejected_at` datetime, `rejected_by` int, `ip_address` varchar(255), `notes` text, `separate_delivery_address` tinyint(1) DEFAULT 0, `delivery_name` varchar(255), `delivery_address1` varchar(255), `delivery_address2` varchar(255), `delivery_address3` varchar(255), `delivery_address4` varchar(255), `delivery_postcode` varchar(255), `delivery_country_id` int, `amount_paid` decimal(8,2) DEFAULT 0.0, `exported` tinyint(1) DEFAULT 0, `invoice_number` varchar(255), `customer_id` int, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_orders_on_delivery_service_id`  ON `shopr_orders` (`delivery_service_id`) [0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE  INDEX `index_shopr_orders_on_received_at`  ON `shopr_orders` (`received_at`) [0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_orders_on_token`  ON `shopr_orders` (`token`) [0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE `shopr_payments` (`id` int AUTO_INCREMENT PRIMARY KEY, `order_id` int, `amount` decimal(8,2) DEFAULT 0.0, `reference` varchar(255), `method` varchar(255), `confirmed` tinyint(1) DEFAULT 1, `refundable` tinyint(1) DEFAULT 0, `amount_refunded` decimal(8,2) DEFAULT 0.0, `parent_payment_id` int, `exported` tinyint(1) DEFAULT 0, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_payments_on_order_id`  ON `shopr_payments` (`order_id`) [0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX `index_shopr_payments_on_parent_payment_id`  ON `shopr_payments` (`parent_payment_id`) [0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE `shopr_product_attributes` (`id` int AUTO_INCREMENT PRIMARY KEY, `product_id` int, `key` varchar(255), `value` varchar(255), `position` int DEFAULT 1, `searchable` tinyint(1) DEFAULT 1, `public` tinyint(1) DEFAULT 1, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_attributes_on_key`  ON `shopr_product_attributes` (`key`) [0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_attributes_on_position`  ON `shopr_product_attributes` (`position`) [0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_attributes_on_product_id`  ON `shopr_product_attributes` (`product_id`) [0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE TABLE `shopr_product_categories` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `permalink` varchar(255), `description` text, `parent_id` int, `lft` int, `rgt` int, `depth` int, `ancestral_permalink` varchar(255), `permalink_includes_ancestors` tinyint(1) DEFAULT 0, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_categories_on_lft`  ON `shopr_product_categories` (`lft`) [0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_categories_on_permalink`  ON `shopr_product_categories` (`permalink`) [0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX `index_shopr_product_categories_on_rgt`  ON `shopr_product_categories` (`rgt`) [0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE `shopr_product_categorizations` (`id` int AUTO_INCREMENT PRIMARY KEY, `product_id` int NOT NULL, `product_category_id` int NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX `categorization_by_product_category_id`  ON `shopr_product_categorizations` (`product_category_id`) [0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX `categorization_by_product_id`  ON `shopr_product_categorizations` (`product_id`) [0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE `shopr_products` (`id` int AUTO_INCREMENT PRIMARY KEY, `parent_id` int, `name` varchar(255), `sku` varchar(255), `permalink` varchar(255), `description` text, `short_description` text, `active` tinyint(1) DEFAULT 1, `weight` decimal(8,3) DEFAULT 0.0, `price` decimal(8,2) DEFAULT 0.0, `cost_price` decimal(8,2) DEFAULT 0.0, `tax_rate_id` int, `featured` tinyint(1) DEFAULT 0, `in_the_box` text, `stock_control` tinyint(1) DEFAULT 1, `default` tinyint(1) DEFAULT 0, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_products_on_parent_id`  ON `shopr_products` (`parent_id`) [0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX `index_shopr_products_on_permalink`  ON `shopr_products` (`permalink`) [0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_products_on_sku`  ON `shopr_products` (`sku`) [0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE `shopr_settings` (`id` int AUTO_INCREMENT PRIMARY KEY, `key` varchar(255), `value` varchar(255), `value_type` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_settings_on_key`  ON `shopr_settings` (`key`) [0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE TABLE `shopr_stock_level_adjustments` (`id` int AUTO_INCREMENT PRIMARY KEY, `item_id` int, `item_type` varchar(255), `description` varchar(255), `adjustment` int DEFAULT 0, `parent_type` varchar(255), `parent_id` int, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_stock_level_adjustments_items`  ON `shopr_stock_level_adjustments` (`item_id`, `item_type`) [0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX `index_shopr_stock_level_adjustments_parent`  ON `shopr_stock_level_adjustments` (`parent_id`, `parent_type`) [0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE `shopr_tax_rates` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `rate` decimal(8,2), `country_ids` text, `address_type` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE `shopr_users` (`id` int AUTO_INCREMENT PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(255) DEFAULT '' NOT NULL, `reset_password_token` varchar(255), `reset_password_sent_at` datetime, `remember_created_at` datetime, `sign_in_count` int DEFAULT 0 NOT NULL, `current_sign_in_at` datetime, `last_sign_in_at` datetime, `current_sign_in_ip` varchar(255), `last_sign_in_ip` varchar(255), `first_name` varchar(255), `last_name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_shopr_users_on_email`  ON `shopr_users` (`email`) [0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_shopr_users_on_reset_password_token`  ON `shopr_users` (`reset_password_token`) [0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class CreateInitialShoprTables < ActiveRecord::Migration[4.2] (called from load at /Users/dean/.rbenv/versions/2.3.1/bin/rake:23)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20160608183749')[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2016-07-03 16:20:30', '2016-07-03 16:20:30')[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('2910784480150763265')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `nifty_key_value_store`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'nifty_key_value_store'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shopr_addresses`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shopr_addresses'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shopr_attachments`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shopr_attachments'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shopr_countries`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shopr_countries'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shopr_customers`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shopr_customers'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shopr_delivery_service_prices`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shopr_delivery_service_prices'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shopr_delivery_services`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shopr_delivery_services'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shopr_order_items`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shopr_order_items'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shopr_orders`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shopr_orders'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shopr_payments`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shopr_payments'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shopr_product_attributes`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shopr_product_attributes'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shopr_product_categories`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shopr_product_categories'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shopr_product_categorizations`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shopr_products`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shopr_products'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shopr_settings`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shopr_settings'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shopr_stock_level_adjustments`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shopr_stock_level_adjustments'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shopr_tax_rates`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shopr_tax_rates'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shopr_users`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shopr_users'[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr'
  AND fk.table_name = 'nifty_key_value_store'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr'
  AND fk.table_name = 'shopr_addresses'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr'
  AND fk.table_name = 'shopr_attachments'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr'
  AND fk.table_name = 'shopr_countries'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr'
  AND fk.table_name = 'shopr_customers'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr'
  AND fk.table_name = 'shopr_delivery_service_prices'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr'
  AND fk.table_name = 'shopr_delivery_services'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr'
  AND fk.table_name = 'shopr_order_items'
[0m
  [1m[35m (6.6ms)[0m  [1m[34mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr'
  AND fk.table_name = 'shopr_orders'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr'
  AND fk.table_name = 'shopr_payments'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr'
  AND fk.table_name = 'shopr_product_attributes'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr'
  AND fk.table_name = 'shopr_product_categories'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr'
  AND fk.table_name = 'shopr_product_categorizations'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr'
  AND fk.table_name = 'shopr_products'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr'
  AND fk.table_name = 'shopr_settings'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr'
  AND fk.table_name = 'shopr_stock_level_adjustments'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr'
  AND fk.table_name = 'shopr_tax_rates'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'shopr'
  AND fk.table_name = 'shopr_users'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$rqrjkQ9spz50rPGPYBPMwOmnkGPnM.BgWkB02oACwJ2B5MBx1WIiK', 'Test', 'User', '2016-07-03 17:20:27', '2016-07-03 17:20:27')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$9RPQgVew3jJJ4AkZc2IcjeDWiuuLCitVrZVfUXzjGSx9EGJGemdmm', 'Test', 'User', '2016-07-03 17:20:28', '2016-07-03 17:20:28')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$WmseJZ8NLCqkp/SYF3hl4O3RXcSOXP5Pa6lANmaRj9NcNF90QyQO6', 'Test', 'User', '2016-07-03 17:20:57', '2016-07-03 17:20:57')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$tUW2wAELPgUZEjfjm9ym/.4nO6T4RB2VBo4CiKKGLrPpLAjT.mCMu', 'Test', 'User', '2016-07-03 17:20:58', '2016-07-03 17:20:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$5vtAHFJ3tObDkJdGQPj5GOjfUNM0u53KD3SIXwFfmCYPwRbRZZEhW', 'Test', 'User', '2016-07-03 17:23:16', '2016-07-03 17:23:16')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$pEVEt753eDE94Wmn3drxAugqmZDU1jjeAed3IYHgXTO8AP/FoN8bG', 'Test', 'User', '2016-07-03 17:23:16', '2016-07-03 17:23:16')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$bqLboMVBCBURKnin8gqUmOc0lzGsa.fxS6Qh4XgsrlYhple174xyS', 'Test', 'User', '2016-07-03 17:23:26', '2016-07-03 17:23:26')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$euzxnAZCT4azVopkoC6MSeqPuHbCQev.EI5vhTmhZKSdqDC16pX9O', 'Test', 'User', '2016-07-03 17:23:26', '2016-07-03 17:23:26')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$j9TFJRc4wQAbx32BIfWwfudxtY1Viw1grTOUFMv7v8D2w/.2h5XOy', 'Test', 'User', '2016-07-03 17:23:43', '2016-07-03 17:23:43')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$Ph6C4e3G3CUEt4YMt9G/.ekgucgK7Y8YfYaiBg5M6QUkSBi.Gk39.', 'Test', 'User', '2016-07-03 17:23:44', '2016-07-03 17:23:44')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$XIZPaC4PcKwltJ99Nskq0.GUm9SL7wU7n4smCSFngIFCbXmviSQWq', 'Test', 'User', '2016-07-03 17:24:01', '2016-07-03 17:24:01')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$m/zWEFKFD.gJjez7bYpWoeuqiZUrcU2inXaOEiSMiox30zVw00apK', 'Test', 'User', '2016-07-03 17:24:01', '2016-07-03 17:24:01')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$c1XtgETuLaZenua4aDcQTe7yga5wrmcVQOnwyzrIqTrW/kT2bs7ja', 'Test', 'User', '2016-07-03 17:24:09', '2016-07-03 17:24:09')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$1T3lYDP1jxU9IpGKGPTkseGZReFi0bnrJqAN0fC2MqCdM/ywxNfOK', 'Test', 'User', '2016-07-03 17:24:10', '2016-07-03 17:24:10')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$9b//xnTm1FOppfsupk6sHuNRsXqXQKktxjjjb3n50fjGin0k5CwJe', 'Test', 'User', '2016-07-03 17:24:19', '2016-07-03 17:24:19')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$..1iu8llP.z9mM2EXmnMNOa7AyKJPwxOsvhHHpFCGIC8fXFPkiA1u', 'Test', 'User', '2016-07-03 17:24:19', '2016-07-03 17:24:19')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.1ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.1ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.1ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$YLbwcIdSRThRT5deb.fsIORg2DyxV/yBe0jrxtizC6YMyQ1PviHLC', 'Test', 'User', '2016-07-03 17:25:54', '2016-07-03 17:25:54')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$eMBvtgE86GBrghkF/GEqT.SSbYI5jYLhCn8V3BTj9HYdEywoJuZ/6', 'Test', 'User', '2016-07-03 17:25:54', '2016-07-03 17:25:54')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.1ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_tax_rates` (`name`, `rate`, `address_type`, `created_at`, `updated_at`) VALUES ('Standard Tax', 20.0, 'billing', '2016-07-03 17:25:55', '2016-07-03 17:25:55')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.2ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = 'phones' LIMIT 1[0m
  [1m[35m (2.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.2ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_products` (`name`, `sku`, `permalink`, `description`, `short_description`, `weight`, `price`, `cost_price`, `tax_rate_id`, `created_at`, `updated_at`) VALUES ('Yealink T22P', 'YT22P', 'yealink-t22p', 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.', 'An awesome phone which you will absolutely love to use.', 1.5, 100.0, 50.0, 1, '2016-07-03 17:25:55', '2016-07-03 17:25:55')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categories` (`name`, `permalink`, `lft`, `rgt`, `ancestral_permalink`, `created_at`, `updated_at`) VALUES ('Phones', 'phones', 1, 2, '', '2016-07-03 17:25:55', '2016-07-03 17:25:55')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 1 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 1 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categorizations` (`product_id`, `product_category_id`) VALUES (1, 1)[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= 1) AND (`shopr_product_categories`.`rgt` >= 2) AND (`shopr_product_categories`.`id` != 1) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND (`shopr_product_categories`.`id` != 1) AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 1 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 1 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' AND (`shopr_products`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.1ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_tax_rates` (`name`, `rate`, `address_type`, `created_at`, `updated_at`) VALUES ('Standard Tax', 20.0, 'billing', '2016-07-03 17:25:55', '2016-07-03 17:25:55')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = 'phones' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_products` (`name`, `sku`, `permalink`, `description`, `short_description`, `weight`, `price`, `cost_price`, `tax_rate_id`, `created_at`, `updated_at`) VALUES ('Yealink T22P', 'YT22P', 'yealink-t22p', 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.', 'An awesome phone which you will absolutely love to use.', 1.5, 100.0, 50.0, 2, '2016-07-03 17:25:55', '2016-07-03 17:25:55')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categories` (`name`, `permalink`, `lft`, `rgt`, `ancestral_permalink`, `created_at`, `updated_at`) VALUES ('Phones', 'phones', 1, 2, '', '2016-07-03 17:25:55', '2016-07-03 17:25:55')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 2 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 2 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categorizations` (`product_id`, `product_category_id`) VALUES (2, 2)[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= 1) AND (`shopr_product_categories`.`rgt` >= 2) AND (`shopr_product_categories`.`id` != 2) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND (`shopr_product_categories`.`id` != 2) AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 2 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 2 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' AND (`shopr_products`.`id` != 2) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.1ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_tax_rates` (`name`, `rate`, `address_type`, `created_at`, `updated_at`) VALUES ('Standard Tax', 20.0, 'billing', '2016-07-03 17:25:55', '2016-07-03 17:25:55')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = 'phones' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_products` (`name`, `sku`, `permalink`, `description`, `short_description`, `weight`, `price`, `cost_price`, `tax_rate_id`, `created_at`, `updated_at`) VALUES ('Yealink T22P', 'YT22P', 'yealink-t22p', 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.', 'An awesome phone which you will absolutely love to use.', 1.5, 100.0, 50.0, 3, '2016-07-03 17:25:55', '2016-07-03 17:25:55')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categories` (`name`, `permalink`, `lft`, `rgt`, `ancestral_permalink`, `created_at`, `updated_at`) VALUES ('Phones', 'phones', 1, 2, '', '2016-07-03 17:25:55', '2016-07-03 17:25:55')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 3 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 3 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 3 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categorizations` (`product_id`, `product_category_id`) VALUES (3, 3)[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= 1) AND (`shopr_product_categories`.`rgt` >= 2) AND (`shopr_product_categories`.`id` != 3) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND (`shopr_product_categories`.`id` != 3) AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 3 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 3 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 3 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' AND (`shopr_products`.`id` != 3) LIMIT 1[0m
  [1m[35m (6.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.3ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_tax_rates` (`name`, `rate`, `address_type`, `created_at`, `updated_at`) VALUES ('Standard Tax', 20.0, 'billing', '2016-07-03 17:26:37', '2016-07-03 17:26:37')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = 'phones' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.2ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_products` (`name`, `sku`, `permalink`, `description`, `short_description`, `weight`, `price`, `cost_price`, `tax_rate_id`, `created_at`, `updated_at`) VALUES ('Yealink T22P', 'YT22P', 'yealink-t22p', 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.', 'An awesome phone which you will absolutely love to use.', 1.5, 100.0, 50.0, 4, '2016-07-03 17:26:38', '2016-07-03 17:26:38')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categories` (`name`, `permalink`, `lft`, `rgt`, `ancestral_permalink`, `created_at`, `updated_at`) VALUES ('Phones', 'phones', 1, 2, '', '2016-07-03 17:26:38', '2016-07-03 17:26:38')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 4 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 4 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 4 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categorizations` (`product_id`, `product_category_id`) VALUES (4, 4)[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= 1) AND (`shopr_product_categories`.`rgt` >= 2) AND (`shopr_product_categories`.`id` != 4) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND (`shopr_product_categories`.`id` != 4) AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 4 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 4 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 4 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' AND (`shopr_products`.`id` != 4) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.1ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_tax_rates` (`name`, `rate`, `address_type`, `created_at`, `updated_at`) VALUES ('Standard Tax', 20.0, 'billing', '2016-07-03 17:26:38', '2016-07-03 17:26:38')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = 'phones' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_products` (`name`, `sku`, `permalink`, `description`, `short_description`, `weight`, `price`, `cost_price`, `tax_rate_id`, `created_at`, `updated_at`) VALUES ('Yealink T22P', 'YT22P', 'yealink-t22p', 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.', 'An awesome phone which you will absolutely love to use.', 1.5, 100.0, 50.0, 5, '2016-07-03 17:26:38', '2016-07-03 17:26:38')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categories` (`name`, `permalink`, `lft`, `rgt`, `ancestral_permalink`, `created_at`, `updated_at`) VALUES ('Phones', 'phones', 1, 2, '', '2016-07-03 17:26:38', '2016-07-03 17:26:38')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 5 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 5 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categorizations` (`product_id`, `product_category_id`) VALUES (5, 5)[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= 1) AND (`shopr_product_categories`.`rgt` >= 2) AND (`shopr_product_categories`.`id` != 5) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND (`shopr_product_categories`.`id` != 5) AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 5 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 5 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' AND (`shopr_products`.`id` != 5) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.1ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_tax_rates` (`name`, `rate`, `address_type`, `created_at`, `updated_at`) VALUES ('Standard Tax', 20.0, 'billing', '2016-07-03 17:26:38', '2016-07-03 17:26:38')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = 'phones' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_products` (`name`, `sku`, `permalink`, `description`, `short_description`, `weight`, `price`, `cost_price`, `tax_rate_id`, `created_at`, `updated_at`) VALUES ('Yealink T22P', 'YT22P', 'yealink-t22p', 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.', 'An awesome phone which you will absolutely love to use.', 1.5, 100.0, 50.0, 6, '2016-07-03 17:26:38', '2016-07-03 17:26:38')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categories` (`name`, `permalink`, `lft`, `rgt`, `ancestral_permalink`, `created_at`, `updated_at`) VALUES ('Phones', 'phones', 1, 2, '', '2016-07-03 17:26:38', '2016-07-03 17:26:38')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 6 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 6 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 6 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categorizations` (`product_id`, `product_category_id`) VALUES (6, 6)[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= 1) AND (`shopr_product_categories`.`rgt` >= 2) AND (`shopr_product_categories`.`id` != 6) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND (`shopr_product_categories`.`id` != 6) AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 6 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 6 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 6 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' AND (`shopr_products`.`id` != 6) LIMIT 1[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.1ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_tax_rates` (`name`, `rate`, `address_type`, `created_at`, `updated_at`) VALUES ('Standard Tax', 20.0, 'billing', '2016-07-03 17:26:38', '2016-07-03 17:26:38')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = 'phones' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_products` (`name`, `sku`, `permalink`, `description`, `short_description`, `weight`, `price`, `cost_price`, `tax_rate_id`, `created_at`, `updated_at`) VALUES ('Yealink T22P', 'YT22P', 'yealink-t22p', 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.', 'An awesome phone which you will absolutely love to use.', 1.5, 100.0, 50.0, 7, '2016-07-03 17:26:38', '2016-07-03 17:26:38')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categories` (`name`, `permalink`, `lft`, `rgt`, `ancestral_permalink`, `created_at`, `updated_at`) VALUES ('Phones', 'phones', 1, 2, '', '2016-07-03 17:26:38', '2016-07-03 17:26:38')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 7 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 7 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 7 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categorizations` (`product_id`, `product_category_id`) VALUES (7, 7)[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= 1) AND (`shopr_product_categories`.`rgt` >= 2) AND (`shopr_product_categories`.`id` != 7) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND (`shopr_product_categories`.`id` != 7) AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.2ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 7 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 7 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 7 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' AND (`shopr_products`.`id` != 7) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.2ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_tax_rates` (`name`, `rate`, `address_type`, `created_at`, `updated_at`) VALUES ('Standard Tax', 20.0, 'billing', '2016-07-03 17:26:38', '2016-07-03 17:26:38')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = 'phones' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_products` (`name`, `sku`, `permalink`, `description`, `short_description`, `weight`, `price`, `cost_price`, `tax_rate_id`, `created_at`, `updated_at`) VALUES ('Yealink T22P', 'YT22P', 'yealink-t22p', 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.', 'An awesome phone which you will absolutely love to use.', 1.5, 100.0, 50.0, 8, '2016-07-03 17:26:38', '2016-07-03 17:26:38')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categories` (`name`, `permalink`, `lft`, `rgt`, `ancestral_permalink`, `created_at`, `updated_at`) VALUES ('Phones', 'phones', 1, 2, '', '2016-07-03 17:26:38', '2016-07-03 17:26:38')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 8 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 8 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 8 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categorizations` (`product_id`, `product_category_id`) VALUES (8, 8)[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= 1) AND (`shopr_product_categories`.`rgt` >= 2) AND (`shopr_product_categories`.`id` != 8) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND (`shopr_product_categories`.`id` != 8) AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 8 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 8 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 8 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' AND (`shopr_products`.`id` != 8) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$C3WVOiQ1H5Td8NLMFuX9UeceZTdN1ntLjEQSjtsBVSbg6wdBo/lOW', 'Test', 'User', '2016-07-03 17:26:38', '2016-07-03 17:26:38')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$t2zQmmJnVOm8wh4aezkOKeTkxAVyNsuqUf9u9T2Z5gFDs9iMgSC0e', 'Test', 'User', '2016-07-03 17:26:38', '2016-07-03 17:26:38')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.2ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_tax_rates` (`name`, `rate`, `address_type`, `created_at`, `updated_at`) VALUES ('Standard Tax', 20.0, 'billing', '2016-07-03 17:26:50', '2016-07-03 17:26:50')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.2ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = 'phones' LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.2ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.1ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_tax_rates` (`name`, `rate`, `address_type`, `created_at`, `updated_at`) VALUES ('Standard Tax', 20.0, 'billing', '2016-07-03 17:26:51', '2016-07-03 17:26:51')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = 'phones' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_products` (`name`, `sku`, `permalink`, `description`, `short_description`, `weight`, `price`, `cost_price`, `tax_rate_id`, `created_at`, `updated_at`) VALUES ('Yealink T22P', 'YT22P', 'yealink-t22p', 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.', 'An awesome phone which you will absolutely love to use.', 1.5, 100.0, 50.0, 10, '2016-07-03 17:26:51', '2016-07-03 17:26:51')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categories` (`name`, `permalink`, `lft`, `rgt`, `ancestral_permalink`, `created_at`, `updated_at`) VALUES ('Phones', 'phones', 1, 2, '', '2016-07-03 17:26:51', '2016-07-03 17:26:51')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 9 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 9 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 9 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categorizations` (`product_id`, `product_category_id`) VALUES (9, 9)[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= 1) AND (`shopr_product_categories`.`rgt` >= 2) AND (`shopr_product_categories`.`id` != 9) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND (`shopr_product_categories`.`id` != 9) AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 9 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 9 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 9 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' AND (`shopr_products`.`id` != 9) LIMIT 1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.1ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_tax_rates` (`name`, `rate`, `address_type`, `created_at`, `updated_at`) VALUES ('Standard Tax', 20.0, 'billing', '2016-07-03 17:26:51', '2016-07-03 17:26:51')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = 'phones' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::Product Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_products` (`name`, `sku`, `permalink`, `description`, `short_description`, `weight`, `price`, `cost_price`, `tax_rate_id`, `created_at`, `updated_at`) VALUES ('Yealink T22P', 'YT22P', 'yealink-t22p', 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.', 'An awesome phone which you will absolutely love to use.', 1.5, 100.0, 50.0, 11, '2016-07-03 17:26:51', '2016-07-03 17:26:51')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categories` (`name`, `permalink`, `lft`, `rgt`, `ancestral_permalink`, `created_at`, `updated_at`) VALUES ('Phones', 'phones', 1, 2, '', '2016-07-03 17:26:51', '2016-07-03 17:26:51')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 10 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 10 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 10 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categorizations` (`product_id`, `product_category_id`) VALUES (10, 10)[0m
  [1m[36mShopr::ProductCategory Load (0.2ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= 1) AND (`shopr_product_categories`.`rgt` >= 2) AND (`shopr_product_categories`.`id` != 10) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND (`shopr_product_categories`.`id` != 10) AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 10 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 10 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 10 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' AND (`shopr_products`.`id` != 10) LIMIT 1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.1ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_tax_rates` (`name`, `rate`, `address_type`, `created_at`, `updated_at`) VALUES ('Standard Tax', 20.0, 'billing', '2016-07-03 17:26:51', '2016-07-03 17:26:51')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = 'phones' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_products` (`name`, `sku`, `permalink`, `description`, `short_description`, `weight`, `price`, `cost_price`, `tax_rate_id`, `created_at`, `updated_at`) VALUES ('Yealink T22P', 'YT22P', 'yealink-t22p', 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.', 'An awesome phone which you will absolutely love to use.', 1.5, 100.0, 50.0, 12, '2016-07-03 17:26:51', '2016-07-03 17:26:51')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.2ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categories` (`name`, `permalink`, `lft`, `rgt`, `ancestral_permalink`, `created_at`, `updated_at`) VALUES ('Phones', 'phones', 1, 2, '', '2016-07-03 17:26:51', '2016-07-03 17:26:51')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 11 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 11 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 11 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categorizations` (`product_id`, `product_category_id`) VALUES (11, 11)[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= 1) AND (`shopr_product_categories`.`rgt` >= 2) AND (`shopr_product_categories`.`id` != 11) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND (`shopr_product_categories`.`id` != 11) AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 11 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 11 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.2ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 11 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' AND (`shopr_products`.`id` != 11) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.1ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_tax_rates` (`name`, `rate`, `address_type`, `created_at`, `updated_at`) VALUES ('Standard Tax', 20.0, 'billing', '2016-07-03 17:26:51', '2016-07-03 17:26:51')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = 'phones' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_products` (`name`, `sku`, `permalink`, `description`, `short_description`, `weight`, `price`, `cost_price`, `tax_rate_id`, `created_at`, `updated_at`) VALUES ('Yealink T22P', 'YT22P', 'yealink-t22p', 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.', 'An awesome phone which you will absolutely love to use.', 1.5, 100.0, 50.0, 13, '2016-07-03 17:26:51', '2016-07-03 17:26:51')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categories` (`name`, `permalink`, `lft`, `rgt`, `ancestral_permalink`, `created_at`, `updated_at`) VALUES ('Phones', 'phones', 1, 2, '', '2016-07-03 17:26:51', '2016-07-03 17:26:51')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 12 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 12 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 12 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categorizations` (`product_id`, `product_category_id`) VALUES (12, 12)[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= 1) AND (`shopr_product_categories`.`rgt` >= 2) AND (`shopr_product_categories`.`id` != 12) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND (`shopr_product_categories`.`id` != 12) AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 12 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 12 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 12 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' AND (`shopr_products`.`id` != 12) LIMIT 1[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.1ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_tax_rates` (`name`, `rate`, `address_type`, `created_at`, `updated_at`) VALUES ('Standard Tax', 20.0, 'billing', '2016-07-03 17:26:51', '2016-07-03 17:26:51')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = 'phones' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_products` (`name`, `sku`, `permalink`, `description`, `short_description`, `weight`, `price`, `cost_price`, `tax_rate_id`, `created_at`, `updated_at`) VALUES ('Yealink T22P', 'YT22P', 'yealink-t22p', 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.', 'An awesome phone which you will absolutely love to use.', 1.5, 100.0, 50.0, 14, '2016-07-03 17:26:51', '2016-07-03 17:26:51')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categories` (`name`, `permalink`, `lft`, `rgt`, `ancestral_permalink`, `created_at`, `updated_at`) VALUES ('Phones', 'phones', 1, 2, '', '2016-07-03 17:26:51', '2016-07-03 17:26:51')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 13 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 13 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 13 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categorizations` (`product_id`, `product_category_id`) VALUES (13, 13)[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= 1) AND (`shopr_product_categories`.`rgt` >= 2) AND (`shopr_product_categories`.`id` != 13) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND (`shopr_product_categories`.`id` != 13) AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 13 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 13 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 13 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::Product Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' AND (`shopr_products`.`id` != 13) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$NvDhmL1hWrCWBTI6oO.sce8Tu3R6r/UQQqOC/tW5DLgACBlyfU0ja', 'Test', 'User', '2016-07-03 17:26:51', '2016-07-03 17:26:51')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$xLT.00c9KnffoB7vYwlV8OdOed3O2J.3M5ADB458J2LquPcIGWh7i', 'Test', 'User', '2016-07-03 17:26:51', '2016-07-03 17:26:51')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.2ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_tax_rates` (`name`, `rate`, `address_type`, `created_at`, `updated_at`) VALUES ('Standard Tax', 20.0, 'billing', '2016-07-03 17:27:49', '2016-07-03 17:27:49')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = 'phones' LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.2ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::Product Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.1ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_tax_rates` (`name`, `rate`, `address_type`, `created_at`, `updated_at`) VALUES ('Standard Tax', 20.0, 'billing', '2016-07-03 17:27:49', '2016-07-03 17:27:49')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = 'phones' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `shopr_products` (`name`, `sku`, `permalink`, `description`, `short_description`, `weight`, `price`, `cost_price`, `tax_rate_id`, `created_at`, `updated_at`) VALUES ('Yealink T22P', 'YT22P', 'yealink-t22p', 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.', 'An awesome phone which you will absolutely love to use.', 1.5, 100.0, 50.0, 16, '2016-07-03 17:27:49', '2016-07-03 17:27:49')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categories` (`name`, `permalink`, `lft`, `rgt`, `ancestral_permalink`, `created_at`, `updated_at`) VALUES ('Phones', 'phones', 1, 2, '', '2016-07-03 17:27:49', '2016-07-03 17:27:49')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 14 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 14 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 14 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categorizations` (`product_id`, `product_category_id`) VALUES (14, 14)[0m
  [1m[36mShopr::ProductCategory Load (0.2ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= 1) AND (`shopr_product_categories`.`rgt` >= 2) AND (`shopr_product_categories`.`id` != 14) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND (`shopr_product_categories`.`id` != 14) AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 14 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 14 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 14 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' AND (`shopr_products`.`id` != 14) LIMIT 1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.1ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_tax_rates` (`name`, `rate`, `address_type`, `created_at`, `updated_at`) VALUES ('Standard Tax', 20.0, 'billing', '2016-07-03 17:27:49', '2016-07-03 17:27:49')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = 'phones' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_products` (`name`, `sku`, `permalink`, `description`, `short_description`, `weight`, `price`, `cost_price`, `tax_rate_id`, `created_at`, `updated_at`) VALUES ('Yealink T22P', 'YT22P', 'yealink-t22p', 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.', 'An awesome phone which you will absolutely love to use.', 1.5, 100.0, 50.0, 17, '2016-07-03 17:27:49', '2016-07-03 17:27:49')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categories` (`name`, `permalink`, `lft`, `rgt`, `ancestral_permalink`, `created_at`, `updated_at`) VALUES ('Phones', 'phones', 1, 2, '', '2016-07-03 17:27:49', '2016-07-03 17:27:49')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 15 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 15 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 15 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categorizations` (`product_id`, `product_category_id`) VALUES (15, 15)[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= 1) AND (`shopr_product_categories`.`rgt` >= 2) AND (`shopr_product_categories`.`id` != 15) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND (`shopr_product_categories`.`id` != 15) AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 15 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 15 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 15 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' AND (`shopr_products`.`id` != 15) LIMIT 1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.1ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_tax_rates` (`name`, `rate`, `address_type`, `created_at`, `updated_at`) VALUES ('Standard Tax', 20.0, 'billing', '2016-07-03 17:27:49', '2016-07-03 17:27:49')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = 'phones' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_products` (`name`, `sku`, `permalink`, `description`, `short_description`, `weight`, `price`, `cost_price`, `tax_rate_id`, `created_at`, `updated_at`) VALUES ('Yealink T22P', 'YT22P', 'yealink-t22p', 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.', 'An awesome phone which you will absolutely love to use.', 1.5, 100.0, 50.0, 18, '2016-07-03 17:27:49', '2016-07-03 17:27:49')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categories` (`name`, `permalink`, `lft`, `rgt`, `ancestral_permalink`, `created_at`, `updated_at`) VALUES ('Phones', 'phones', 1, 2, '', '2016-07-03 17:27:49', '2016-07-03 17:27:49')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 16 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 16 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 16 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categorizations` (`product_id`, `product_category_id`) VALUES (16, 16)[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= 1) AND (`shopr_product_categories`.`rgt` >= 2) AND (`shopr_product_categories`.`id` != 16) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND (`shopr_product_categories`.`id` != 16) AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 16 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 16 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 16 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' AND (`shopr_products`.`id` != 16) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.2ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_tax_rates` (`name`, `rate`, `address_type`, `created_at`, `updated_at`) VALUES ('Standard Tax', 20.0, 'billing', '2016-07-03 17:27:49', '2016-07-03 17:27:49')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = 'phones' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_products` (`name`, `sku`, `permalink`, `description`, `short_description`, `weight`, `price`, `cost_price`, `tax_rate_id`, `created_at`, `updated_at`) VALUES ('Yealink T22P', 'YT22P', 'yealink-t22p', 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.', 'An awesome phone which you will absolutely love to use.', 1.5, 100.0, 50.0, 19, '2016-07-03 17:27:49', '2016-07-03 17:27:49')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categories` (`name`, `permalink`, `lft`, `rgt`, `ancestral_permalink`, `created_at`, `updated_at`) VALUES ('Phones', 'phones', 1, 2, '', '2016-07-03 17:27:49', '2016-07-03 17:27:49')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 17 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 17 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 17 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categorizations` (`product_id`, `product_category_id`) VALUES (17, 17)[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= 1) AND (`shopr_product_categories`.`rgt` >= 2) AND (`shopr_product_categories`.`id` != 17) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND (`shopr_product_categories`.`id` != 17) AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 17 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 17 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 17 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' AND (`shopr_products`.`id` != 17) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::TaxRate Load (0.3ms)[0m  [1m[34mSELECT  `shopr_tax_rates`.* FROM `shopr_tax_rates` WHERE `shopr_tax_rates`.`rate` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_tax_rates` (`name`, `rate`, `address_type`, `created_at`, `updated_at`) VALUES ('Standard Tax', 20.0, 'billing', '2016-07-03 17:27:49', '2016-07-03 17:27:49')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = 'phones' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::Product Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_products` (`name`, `sku`, `permalink`, `description`, `short_description`, `weight`, `price`, `cost_price`, `tax_rate_id`, `created_at`, `updated_at`) VALUES ('Yealink T22P', 'YT22P', 'yealink-t22p', 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.', 'An awesome phone which you will absolutely love to use.', 1.5, 100.0, 50.0, 20, '2016-07-03 17:27:49', '2016-07-03 17:27:49')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= NULL) AND (`shopr_product_categories`.`rgt` >= NULL) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.2ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` ORDER BY `shopr_product_categories`.`rgt` desc LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categories` (`name`, `permalink`, `lft`, `rgt`, `ancestral_permalink`, `created_at`, `updated_at`) VALUES ('Phones', 'phones', 1, 2, '', '2016-07-03 17:27:49', '2016-07-03 17:27:49')[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 18 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 18 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 18 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `shopr_product_categorizations` (`product_id`, `product_category_id`) VALUES (18, 18)[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE (`shopr_product_categories`.`lft` <= 1) AND (`shopr_product_categories`.`rgt` >= 2) AND (`shopr_product_categories`.`id` != 18) ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_product_categories` WHERE `shopr_product_categories`.`permalink` = BINARY 'phones' AND (`shopr_product_categories`.`id` != 18) AND `shopr_product_categories`.`parent_id` IS NULL LIMIT 1[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT  `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`id` = 18 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `shopr_product_categories` SET `depth` = 0 WHERE `shopr_product_categories`.`id` = 18 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[36mShopr::ProductCategory Load (0.1ms)[0m  [1m[34mSELECT `shopr_product_categories`.* FROM `shopr_product_categories` WHERE `shopr_product_categories`.`parent_id` = 18 ORDER BY `shopr_product_categories`.`lft`[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mShopr::Product Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_products` WHERE `shopr_products`.`permalink` = BINARY 'yealink-t22p' AND (`shopr_products`.`id` != 18) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$E6Ly1WT6cb4qpLIfhnF6quR37BfoVPKanHVxGpE3aSm.mdYWyeTtO', 'Test', 'User', '2016-07-03 17:27:50', '2016-07-03 17:27:50')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mShopr::User Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `shopr_users` WHERE `shopr_users`.`email` = BINARY 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `shopr_users` (`email`, `encrypted_password`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('user@example.com', '$2a$11$M1InmEDw3xSzhC93hOUpTO.8RuSJyrxVD/44zkl3vI/c0nSvUEHii', 'Test', 'User', '2016-07-03 17:27:50', '2016-07-03 17:27:50')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `shopr_countries` (`name`, `code2`, `code3`, `continent`, `tld`, `currency`, `eu_member`, `created_at`, `updated_at`) VALUES ('United Kingdom', 'GB', 'GBR', 'EU', 'uk', 'GBP', 1, '2016-07-03 17:27:50', '2016-07-03 17:27:50')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
